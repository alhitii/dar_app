# โ ุฌููุน ุงูุชุจููุจุงุช ุชุนูู ุงูุขู!

## ๐ **ุงูุชุงุฑูุฎ:** 1 ููููุจุฑ 2025

---

## ๐ฏ **ูุง ุชู ุฅูุฌุงุฒู:**

### **ุชู ุชุญุฏูุซ ุฌููุน ุงูุชุจููุจุงุช ูุชุนุฑุถ ุจูุงูุงุช ุญููููุฉ ูู Firestore:**

```
โ ุชุจููุจ "ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ" โ homework collection
โ ุชุจููุจ "ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ" โ announcements collection
โ ุชุจููุจ "ุณุฌู ุงูุบูุงุจุงุช" โ notifications_absences collection
```

---

## ๐ **ุงูุชุจููุจุงุช ุงูุซูุงุซุฉ:**

### **1๏ธโฃ ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ:**
```dart
ุงููุตุฏุฑ: homework collection

ุงูููุชุฑุฉ:
  - stage = ูุฑุญูุฉ ุงูุทุงูุจ
  - grade = ุตู ุงูุทุงูุจ
  - sections = ุดุนุจุฉ ุงูุทุงูุจ
  - archiveUntil > ุงูุขู (ููุฏุฉ ุณูุฉ)

ุงูุนุฑุถ:
  - ุฅูููุฌู ุงููุงุฏุฉ + ุงุณู ุงููุงุฏุฉ
  - ุนููุงู ุงููุงุฌุจ
  - ุชุงุฑูุฎ ุงูุฅูุดุงุก
  - ุฃููุงู ูุฎุชููุฉ ููู ูุงุฌุจ
```

### **2๏ธโฃ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ:**
```dart
ุงููุตุฏุฑ: announcements collection

ุงูููุชุฑุฉ:
  - isActive = true
  - expiresAt > ุงูุขู (ููุฏุฉ ุณูุฉ)
  - targetRole = all ุฃู student

ุงูุนุฑุถ:
  - ุนููุงู ุงูุฅุดุนุงุฑ
  - ูุต ุงูุฅุดุนุงุฑ
  - ุชุงุฑูุฎ ุงูุฅุฑุณุงู
  - ุฃููููุฉ ุญุณุจ ุงูููุน (info, success, warning, error)
```

### **3๏ธโฃ ุณุฌู ุงูุบูุงุจุงุช:**
```dart
ุงููุตุฏุฑ: notifications_absences collection

ุงูููุชุฑุฉ:
  - studentUid = UID ุงูุทุงูุจ
  - archiveUntil > ุงูุขู (ููุฏุฉ ุณูุฉ)

ุงูุนุฑุถ:
  - ุฑุณุงูุฉ ุงูุบูุงุจ
  - ุชุงุฑูุฎ ุงูุบูุงุจ
  - ุญุงูุฉ (ุฌุฏูุฏ/ูุฏูู)
  - ููู ุฃุญูุฑ ููุฌุฏูุฏุ ุจุฑุชูุงูู ูููุฏูู
```

---

## ๐ **Indexes ุงููุทููุจุฉ:**

### **1. homework:**
```
- stage (Ascending)
- grade (Ascending)
- sections (Ascending)
- archiveUntil (Descending)
```

### **2. notifications_absences:**
```
- studentUid (Ascending)
- archiveUntil (Descending)
```

### **3. announcements:**
```
โ ูุง ูุญุชุงุฌ index (ูุณุชุฎุฏู isActive ููุท)
```

---

## ๐ฑ **ูุงุฌูุฉ ุงููุณุชุฎุฏู:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูุฅุดุนุงุฑุงุช                  ๐       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ] [ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ] [ุณุฌู ุงูุบูุงุจุงุช] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                     โ
โ ุชุจููุจ "ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ":          โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ ๐ ุงูุฑูุงุถูุงุช                   โ โ
โ โ ุญู ุงูุชูุงุฑูู...                 โ โ
โ โ 1/11/2025                      โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                     โ
โ ุชุจููุจ "ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ":           โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ โน๏ธ ุงุฌุชูุงุน ุฃูููุงุก ุงูุฃููุฑ        โ โ
โ โ ููู ุงูุฃุญุฏ...                   โ โ
โ โ 1/11/2025                      โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                     โ
โ ุชุจููุจ "ุณุฌู ุงูุบูุงุจุงุช":              โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ โ๏ธ ุบูุงุจ (ุฌุฏูุฏ)                 โ โ
โ โ ุบุงุจ ุงูุทุงูุจ ููู ุงูุฃุญุฏ           โ โ
โ โ 1/11/2025                      โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **1. ุชุจููุจ ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ:**
```
1. ุฃุฑุณู ูุงุฌุจ ูู ุญุณุงุจ ุงููุนูู
2. ุณุฌู ุฏุฎูู ูุทุงูุจ
3. ุงูุชุญ ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช
4. ุงุถุบุท ุชุจููุจ "ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ"
5. โ ูุฌุจ ุฃู ุชุฑู ุงููุงุฌุจ
```

### **2. ุชุจููุจ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ:**
```
1. ุฃุฑุณู ุฅุดุนุงุฑ ุฅุฏุงุฑู ูู Admin
2. ุณุฌู ุฏุฎูู ูุทุงูุจ
3. ุงูุชุญ ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช
4. ุงุถุบุท ุชุจููุจ "ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ"
5. โ ูุฌุจ ุฃู ุชุฑู ุงูุฅุดุนุงุฑ
```

### **3. ุชุจููุจ ุณุฌู ุงูุบูุงุจุงุช:**
```
1. ุฃุฑุณู ุฅุดุนุงุฑ ุบูุงุจ ูู Admin
2. ุณุฌู ุฏุฎูู ูุทุงูุจ
3. ุงูุชุญ ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช
4. ุงุถุบุท ุชุจููุจ "ุณุฌู ุงูุบูุงุจุงุช"
5. โ ูุฌุจ ุฃู ุชุฑู ุงูุบูุงุจ
```

---

## ๐ง **ุฅุฐุง ุธูุฑุช ุฃุฎุทุงุก:**

### **ุฎุทุฃ: "The query requires an index"**
```
ุงูุญู:
1. ุงูุณุฎ ุงูุฑุงุจุท ูู ุงูุฎุทุฃ
2. ุงูุชุญู ูู ุงููุชุตูุญ
3. ุงุถุบุท "Create Index"
4. ุงูุชุธุฑ 2-3 ุฏูุงุฆู
5. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู
```

### **ูุง ุชุธูุฑ ุจูุงูุงุช:**
```
ุงูุณุจุจ ุงููุญุชูู:
1. ูุง ุชูุฌุฏ ุจูุงูุงุช ูู Firestore
2. ุงูุญููู ุบูุฑ ููุฌูุฏุฉ
3. ุงูููุชุฑุฉ ุบูุฑ ุตุญูุญุฉ

ุงูุญู:
1. ุชุญูู ูู Firebase Console
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุงูุญููู ุงููุทููุจุฉ
```

---

## ๐ **ุงูุญููู ุงููุทููุจุฉ:**

### **homework:**
```javascript
{
  stage: "ุฅุนุฏุงุฏูุฉ",
  grade: "ุงูุฑุงุจุน",
  sections: ["ุฃ", "ุจ"],
  subjectName: "ุงูุฑูุงุถูุงุช",
  subjectEmoji: "๐ข",
  title: "ุญู ุงูุชูุงุฑูู",
  createdAt: Timestamp,
  archiveUntil: Timestamp (ุณูุฉ ูู ุงูุขู)
}
```

### **announcements:**
```javascript
{
  title: "ุงุฌุชูุงุน ุฃูููุงุก ุงูุฃููุฑ",
  message: "ููู ุงูุฃุญุฏ...",
  type: "info",
  targetRole: "all",
  isActive: true,
  timestamp: Timestamp,
  expiresAt: Timestamp (ุณูุฉ ูู ุงูุขู)
}
```

### **notifications_absences:**
```javascript
{
  studentUid: "abc123",
  message: "ุบุงุจ ุงูุทุงูุจ...",
  date: Timestamp,
  createdAt: Timestamp,
  bannerExpiresAt: Timestamp (24 ุณุงุนุฉ),
  archiveUntil: Timestamp (ุณูุฉ ูู ุงูุขู)
}
```

---

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

```
โ ุฌููุน ุงูุชุจููุจุงุช ุชุนุฑุถ ุจูุงูุงุช ุญููููุฉ
โ ูุง ุจูุงูุงุช ุซุงุจุชุฉ (hardcoded)
โ ุชุญุฏูุซ ุชููุงุฆู (StreamBuilder)
โ ููุชุฑุฉ ุตุญูุญุฉ ุญุณุจ ุงูุทุงูุจ
โ ุชุตููู ุฌููู ููุชูุงุณู
```

---

**ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู ูุงุฎุชุจุฑ ุฌููุน ุงูุชุจููุจุงุช! ๐**
