# ๐ ุญู ูุดููุฉ: ุตูุช ุงูุฅุดุนุงุฑ ูุง ูุนูู

## โ **ุงููุดููุฉ:**
```
ุฌุฑุจุช flutter clean ูุฅุนุงุฏุฉ ุชุซุจูุช
ููู ุตูุช ุงูุฅุดุนุงุฑ ูู ูุตู
```

---

## โ **ุงูุญุงูุฉ ุงูุญุงููุฉ ููููุฏ:**

```
โ FCM Token ููุญูุธ ูู auth_service.dart
โ AndroidManifest ููุนุฏ ุจุดูู ุตุญูุญ
โ Cloud Functions ููุดูุฑุฉ
โ high_importance_channel ููุฌูุฏ
```

**ุฅุฐุงู ุงููุดููุฉ ููุณุช ูู ุงูููุฏ!**

---

## ๐ **ุฎุทูุงุช ุงูุชุดุฎูุต:**

### **ุงูุฎุทูุฉ 1: ุชุณุฌูู ุฏุฎูู ูุญูุธ FCM Token**

```bash
1. flutter run
2. ุณุฌูู ุฏุฎูู ูุทุงูุจ
3. ุงูุชุธุฑ 5 ุซูุงูู
4. ุงุจุญุซ ูู Terminal ุนู:
   ๐ FCM Token: eFv9k3tn...
   โ ุชู ุญูุธ ุงูุจูุงูุงุช ูู users (ูุน FCM Token)
```

**ุฅุฐุง ูู ุชุธูุฑ:**
```
โ ุงููุดููุฉ: FCM Token ูู ููุญูุธ
ุงูุญู: โ ุงูุชูู ูู "ุงูุญู 1" ุฃุณูู ุงูุตูุญุฉ
```

---

### **ุงูุฎุทูุฉ 2: ุชุญูู ูู Firestore**

```
1. Firebase Console
2. Firestore Database
3. users collection
4. ุงูุชุญ document ุงูุทุงูุจ
5. ุงุจุญุซ ุนู: fcmToken
```

**ุงููุชุงุฆุฌ:**
```
โ fcmToken ููุฌูุฏ ููุญุชูู ุนูู ูููุฉ:
   "eFv9k3tn..."
   โ ุงูุชูู ููุฎุทูุฉ 3

โ fcmToken = null ุฃู ุบูุฑ ููุฌูุฏ:
   โ ุงููุดููุฉ: ูู ููุญูุธ
   โ ุงูุญู: โ ุงูุชูู ูู "ุงูุญู 1"
```

---

### **ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ูู Firebase Console**

**ุฃุฑุณู ุฅุดุนุงุฑ test:**
```
1. Firebase Console โ Cloud Messaging
2. New notification
3. Title: ุงุฎุชุจุงุฑ ุตูุช ๐
4. Body: ูู ุชุณูุนููุ
5. Target: FCM registration token
6. ุงูุตู FCM Token ูู Firestore (users)
7. Additional options:
   โ Sound: Enabled
   โ Android Notification Channel: high_importance_channel
8. Send test message
9. ุฃุบูู ุงูุชุทุจูู ุชูุงูุงู (ุฃู ูู ุงูุฎูููุฉ)
10. ุงูุชุธุฑ...
```

**ุงููุชุงุฆุฌ:**
```
โ ูุตู ูุน ุตูุช ูุงูุชุฒุงุฒ:
   โ ุงููุดููุฉ ูู Cloud Function
   โ ุงูุชูู ููุฎุทูุฉ 4

โ๏ธ ูุตู ุจุฏูู ุตูุช:
   โ ุงููุดููุฉ ูู ุงููุงุชู
   โ ุงูุชูู ูู "ุงูุญู 2"

โ ูู ูุตู ููุงุฆูุงู:
   โ ุงููุดููุฉ ูู FCM Token
   โ ุงูุชูู ูู "ุงูุญู 1"
```

---

### **ุงูุฎุทูุฉ 4: ูุญุต Cloud Function**

```
1. Firebase Console โ Functions
2. Logs
3. Filter: notifyStudentsOnHomework
4. ุฃุถู ูุงุฌุจ ูู ุงูุชุทุจูู
5. ุฑุงูุจ Logs
```

**ุงููุชุงุฆุฌ:**
```
โ "Homework notifications: 1 success, 0 failed"
   โ Cloud Function ุชุนูู ุจูุฌุงุญ
   โ ููู ุงูุตูุช ูุง ูุนูู
   โ ุงูุชูู ูู "ุงูุญู 2"

โ "No FCM tokens found"
   โ FCM Token ุบูุฑ ููุฌูุฏ
   โ ุงูุชูู ูู "ุงูุญู 1"

โ Error: ...
   โ ุงูุณุฎ ุงูุฎุทุฃ ูุฃุฑุณูู
```

---

## โ **ุงูุญููู:**

### **ุงูุญู 1: ุฅุตูุงุญ FCM Token**

#### **ุงูุณุจุจ:**
```
FCM Token ูู ููุญูุธ ูู Firestore
```

#### **ุงูุฎุทูุงุช:**

**1. ุงุญุฐู ุงูุชุทุจูู ุชูุงูุงู ูู ุงููุงุชู**

**2. ุฃุนุฏ ุจูุงุก APK:**
```bash
cd d:\test\madrasah
flutter clean
flutter pub get
flutter build apk --release
```

**3. ุซุจูุช APK ุงูุฌุฏูุฏ**

**4. ุงูุชุญ Terminal:**
```bash
flutter run
```

**5. ุณุฌูู ุฏุฎูู ูุทุงูุจ**

**6. ุฑุงูุจ Terminal - ูุฌุจ ุฃู ุชุธูุฑ:**
```
๐ FCM Token: eFv9k3tn...
โ ุชู ุญูุธ ุงูุจูุงูุงุช ูู users (ูุน FCM Token)
```

**7. ุชุญูู ูู Firestore:**
```
Firebase Console โ Firestore โ users โ [uid]
ูุฌุจ ุฃู ูุธูุฑ: fcmToken: "eFv9k3tn..."
```

**8. ุฅุฐุง ุธูุฑ FCM Token:**
```
โ ุชู ุญู ุงููุดููุฉ!
ุฌุฑูุจ ุฅุฑุณุงู ูุงุฌุจ ุฃู ุฅุดุนุงุฑ
```

---

### **ุงูุญู 2: ุฅุนุฏุงุฏุงุช ุงููุงุชู**

#### **ุงูุณุจุจ:**
```
ุงููุงุชู ูููุน ุงูุตูุช ุฃู ุงูุงูุชุฒุงุฒ
```

#### **ุงูุฎุทูุงุช:**

**1. ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช:**
```
Settings โ Apps โ [ุงุณู ุงูุชุทุจูู] โ Notifications
โ Allow notifications: ON
โ Sound: ON
โ Vibrate: ON
โ Show on lock screen: ON
```

**2. Do Not Disturb:**
```
Settings โ Sound โ Do Not Disturb
โ ุฃููู ุชุดุบููู
```

**3. Battery Optimization:**
```
Settings โ Battery โ Battery Optimization
ุงุจุญุซ ุนู ุงูุชุทุจูู:
โ Don't optimize (ุฃู Not optimized)
```

**4. Data Saver:**
```
Settings โ Network & Internet โ Data Saver
โ ุฃููู ุชุดุบููู
ุฃู
ุฃุถู ุงูุชุทุจูู ููู Unrestricted data access
```

**5. Background Restrictions:**
```
Settings โ Apps โ [ุงูุชุทุจูู] โ Mobile data & Wi-Fi
โ Background data: ON
โ Unrestricted data usage: ON
```

**6. Notification Channel (Android 8+):**
```
Settings โ Apps โ [ุงูุชุทุจูู] โ Notifications
ุงุจุญุซ ุนู: high_importance_channel
โ Sound: ON
โ Vibrate: ON
โ Importance: High (ุฃู Urgent)
```

---

### **ุงูุญู 3: ุงุฎุชุจุงุฑ ุงููุธุงู**

**ุฅุฐุง ุฌุฑุจุช ูู ุดูุก:**

**1. ุงุฎุชุจุฑ ุนูู ูุงุชู ุขุฎุฑ:**
```
ุซุจูุช APK ุนูู ูุงุชู ูุฎุชูู
ุณุฌูู ุฏุฎูู
ุฌุฑูุจ ุฅุฑุณุงู ุฅุดุนุงุฑ
ูู ูุนูู ุงูุตูุชุ
```

**ุงููุชูุฌุฉ:**
```
โ ูุนูู ุนูู ูุงุชู ุขุฎุฑ:
   โ ุงููุดููุฉ ูู ุงููุงุชู ุงูุฃูู
   โ ุฑุงุฌุน ุฅุนุฏุงุฏุงุช ุงููุงุชู

โ ูุง ูุนูู ุนูู ุฃู ูุงุชู:
   โ ุงููุดููุฉ ูู ุงูููุฏ
   โ ุฃุฑุณู ูู ุงูุชูุงุตูู
```

---

## ๐งช **ุงุฎุชุจุงุฑ ุดุงูู:**

### **ุงูุณููุงุฑูู ุงููุงูู:**

```
1. ุงุญุฐู ุงูุชุทุจูู
2. flutter clean
3. flutter build apk --release
4. ุซุจูุช APK
5. flutter run (ุฑุงูุจ Terminal)
6. ุณุฌูู ุฏุฎูู ูุทุงูุจ
7. ุชุญูู ูู FCM Token ูู Terminal
8. ุชุญูู ูู FCM Token ูู Firestore
9. ุฃุบูู ุงูุชุทุจูู ุชูุงูุงู
10. ุณุฌูู ุฏุฎูู ููุนูู (ูุงุชู ุขุฎุฑ ุฃู ุญุณุงุจ ุขุฎุฑ)
11. ุฃุถู ูุงุฌุจ ุฌุฏูุฏ
12. ุงูุชุธุฑ 5-10 ุซูุงูู
13. ูู ูุตู ุฅุดุนุงุฑุ
14. ูู ุณูุนุช ุตูุชุ
15. ูู ุงูุชุฒ ุงููุงุชูุ
```

**ุงููุชุงุฆุฌ:**
```
โ ูุนู ููู ุดูุก:
   โ ุงููุดููุฉ ูุญูููุฉ!

โ ูุตู ุจุฏูู ุตูุช:
   โ ุฑุงุฌุน ุฅุนุฏุงุฏุงุช ุงููุงุชู (ุงูุญู 2)

โ ูู ูุตู ููุงุฆูุงู:
   โ ุฑุงุฌุน FCM Token (ุงูุญู 1)
```

---

## ๐ **Checklist ููุงุฆู:**

```
โก FCM Token ูุธูุฑ ูู Terminal ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
โก FCM Token ููุฌูุฏ ูู Firestore (users collection)
โก Cloud Function Logs ุชุธูุฑ "success"
โก ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช ููุนููุฉ ูู ุงููุงุชู
โก Battery Optimization ูุนุทูู ููุชุทุจูู
โก Do Not Disturb ูุนุทูู
โก ุงููุงุชู ููุณ ูู Silent mode
โก ุงูุชุทุจูู ูุบูู ุชูุงูุงู ุนูุฏ ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑ
โก high_importance_channel ููุนูู ูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
```

**ุฅุฐุง ูู ุดูุก โ ููุง ูุฒุงู ูุง ูุนูู:**
```
ุฃุฑุณู ูู:
1. Console Output (ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู)
2. Cloud Function Logs (ุนูุฏ ุฅุฑุณุงู ูุงุฌุจ)
3. ููุน ุงููุงุชู ูุฅุตุฏุงุฑ Android
4. Screenshot ูู ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช
```

---

## ๐ฏ **ุงูุฎูุงุตุฉ:**

```
ุงููุดููุฉ ุงูุฃูุซุฑ ุงุญุชูุงูุงู:
1. FCM Token ูู ููุญูุธ (60%)
   โ ุงูุญู: ุญุฐู + flutter clean + ุฅุนุงุฏุฉ ุชุซุจูุช

2. ุฅุนุฏุงุฏุงุช ุงููุงุชู (30%)
   โ ุงูุญู: ุชูุนูู ุงูุฅุดุนุงุฑุงุช + ุชุนุทูู Battery Optimization

3. ูุดููุฉ ูู Cloud Function (10%)
   โ ุงูุญู: ูุญุต Logs
```

---

**ุฌุฑูุจ ุงูุญู 1 ุฃููุงู (ุญุฐู + flutter clean + ุฅุนุงุฏุฉ ุชุซุจูุช)** ๐โจ
