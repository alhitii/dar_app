# ๐ ุฏููู ุงูุจุฏุก ุงูุณุฑูุน - ุฅุตูุงุญ ุงูููุงุฏ ุงูุฏููุงููููุฉ

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุชุญุฏูุซ `edit_teacher_dialog.dart`
- โ ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ ุชูุงูุงู (ูุง cacheุ ูุง hardcoded)
- โ ุชุญููู ุงูููุงุฏ ูู Firestore ุญุณุจ: `stage` + `grade` + `branch`
- โ ุฅุนุงุฏุฉ ุชุญููู ููุฑู ุนูุฏ ุชุบููุฑ ุงูุตู/ุงููุฑุน
- โ ุญูุธ ุจุฏูู merge (ุงุณุชุจุฏุงู ูุงูู ููููุงุฏ ุงููุฏููุฉ)

### 2. ุณูุฑูุจุช ุฅุตูุงุญ ุดุงูู
- `lib/utils/fix_old_subjects.dart` - ูุญุฏูุซ ุฌููุน ุงููุนูููู
- `lib/ui/admin/fix_old_subjects_button.dart` - ุฒุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ

---

## ๐ฏ ุฎุทูุงุช ุงูุชุดุบูู (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุฅุถุงูุฉ ุงูุฒุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ

ูู `lib/ui/admin/admin_tabs_screen.dart`:

```dart
import 'fix_old_subjects_button.dart';

// ุฃุถู ูู body:
FixOldSubjectsButton(),
```

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุงูุชุทุจูู

```bash
flutter run
```

### ุงูุฎุทูุฉ 3: ุดุบูู ุณูุฑูุจุช ุงูุฅุตูุงุญ

1. ุณุฌูู ุฏุฎูู ููุฏูุฑ
2. ุงุถุบุท ุฒุฑ "ุฅุตูุงุญ ุงูููุงุฏ ุงููุฏููุฉ"
3. ุงูุชุธุฑ ุงููุชุงุฆุฌ

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ

1. **ุชุนุฏูู ูุนูู:**
   - ุบููุฑ ุงูุตู โ ุงูููุงุฏ ุชุชุญุฏุซ โ
   - ุงุญูุธ โ ุงูููุงุฏ ุงููุฏููุฉ ุชูุญุฐู โ

2. **ูุงุฌูุฉ ุงููุนูู:**
   - ุณุฌูู ุฏุฎูู ููุนูู
   - ุงูุชุญ ุฅูุดุงุก ูุงุฌุจ
   - ุงูููุงุฏ ุงูุฌุฏูุฏุฉ ุชุธูุฑ โ

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ/ุงูููุนุฏููุฉ

| ุงูููู | ุงูุญุงูุฉ | ุงููุตู |
|------|--------|-------|
| `lib/ui/admin/edit_teacher_dialog.dart` | โ๏ธ ูุนุฏูู | ุชุญููู ุฏููุงูููู ููููุงุฏ |
| `lib/utils/fix_old_subjects.dart` | โจ ุฌุฏูุฏ | ุณูุฑูุจุช ุงูุฅุตูุงุญ |
| `lib/ui/admin/fix_old_subjects_button.dart` | โจ ุฌุฏูุฏ | ุฒุฑ ุงูุฅุตูุงุญ |
| `DYNAMIC_SUBJECTS_FIX.md` | โจ ุฌุฏูุฏ | ุชูุซูู ุดุงูู |
| `QUICK_START_GUIDE.md` | โจ ุฌุฏูุฏ | ูุฐุง ุงูููู |

---

## โ๏ธ ููู ุฌุฏุงู

### ูุจู ุชุดุบูู ุงูุณูุฑูุจุช:

ุชุฃูุฏ ุฃู **ุฌููุน** ุงูููุงุฏ ูู `subjects` collection ุชุญุชูู ุนูู:

```json
{
  "name": "ุงูุฑูุงุถูุงุช",
  "emoji": "๐",
  "stage": "ุงุจุชุฏุงุฆูุฉ",    // โ ูุทููุจ
  "grade": "ุงูุฃูู",        // โ ูุทููุจ
  "branch": null           // ููุฅุนุฏุงุฏูุฉ ููุท
}
```

**ุฅุฐุง ูู ุชูุฌุฏ ูุฐู ุงูุญููู:**
```bash
# ูู Console ุณุชุธูุฑ:
โ๏ธ ูุง ุชูุฌุฏ ููุงุฏ ููุฐุง ุงูุตู ูู Firestore!
```

---

## ๐ ุงูุชุญูู ุงูุณุฑูุน

### Console Logs ุงููุชููุนุฉ:

```
๐ ุชุญููู ุงูููุงุฏ ุงูุฌุฏูุฏุฉ ูู Firestore...
   ุงููุฑุญูุฉ: ุงุจุชุฏุงุฆูุฉ
   ุงูุตู: ุงูุฃูู
โ ุชู ุงูุนุซูุฑ ุนูู 7 ูุงุฏุฉ
   โข ๐ ุงููุบุฉ ุงูุนุฑุจูุฉ
   โข ๐ ุงูุฑูุงุถูุงุช
   โข ๐ฌ ุงูุนููู
```

### Firestore ุจุนุฏ ุงูุญูุธ:

```json
users_emails/{email} {
  "subjects": ["id1", "id2", "id3"]  // โ ุฌุฏูุฏุฉ ููุท
}
```

---

## ๐ ุญู ุณุฑูุน ูููุดุงูู

| ุงููุดููุฉ | ุงูุญู |
|---------|------|
| ุงูููุงุฏ ูุง ุชุธูุฑ | ุชุฃูุฏ ูู `stage` ู `grade` ูู subjects |
| ูุง ุชุชุญุฏุซ ุนูุฏ ุชุบููุฑ ุงูุตู | Hot Restart (R) |
| ุงูููุงุฏ ุงููุฏููุฉ ูุง ุชุฒุงู ููุฌูุฏุฉ | ุดุบูู ุณูุฑูุจุช ุงูุฅุตูุงุญ |

---

## โ ูุงุฆูุฉ ุงูุชุญูู

```
[ ] ุฃุถูุช ุงูุฒุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
[ ] ุดุบููุช flutter run
[ ] ุดุบููุช ุณูุฑูุจุช ุงูุฅุตูุงุญ
[ ] ุงุฎุชุจุฑุช ุชุนุฏูู ูุนูู โ ุงูููุงุฏ ุชุชุญุฏุซ
[ ] ุงุฎุชุจุฑุช ุงูุญูุธ โ ุงูููุงุฏ ุงููุฏููุฉ ุงุฎุชูุช
[ ] ุงุฎุชุจุฑุช ูุงุฌูุฉ ุงููุนูู โ ุงูููุงุฏ ุงูุฌุฏูุฏุฉ ุชุธูุฑ
```

---

## ๐ ุงููุชูุฌุฉ

**ูุจู:** โ ููุงุฏ ูุฏููุฉ ุซุงุจุชุฉ  
**ุจุนุฏ:** โ ููุงุฏ ุฏููุงููููุฉ ูู Firestore

**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ

---

**ุฑุงุฌุน `DYNAMIC_SUBJECTS_FIX.md` ููุชูุงุตูู ุงููุงููุฉ**
