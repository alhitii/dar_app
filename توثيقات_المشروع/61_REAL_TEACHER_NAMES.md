# ๐จโ๐ซ ุนุฑุถ ุฃุณูุงุก ุงููุนูููู ุงูุญููููุฉ

## ๐ **ุงูุชุงุฑูุฎ:** 1 ููููุจุฑ 2025

---

## ๐ฏ **ุงููุฏู:**

ุชุญุฏูุซ ุตูุญุฉ ุงูุทุงูุจ ูุนุฑุถ ุฃุณูุงุก ุงููุนูููู ุงูุญููููุฉ ูู Firestore ุจุฏูุงู ูู ุงูุฃุณูุงุก ุงูุงูุชุฑุงุถูุฉ.

---

## โ **ุงููุดููุฉ ุงูุณุงุจูุฉ:**

```dart
// ูุงูุช ุงูุฏุงูุฉ ุชูุฑุฌุน ุฃุณูุงุก ุงูุชุฑุงุถูุฉ ุซุงุจุชุฉ
String _getTeacherName(String subjectName) {
  final teacherNames = {
    'ุงูุชุฑุจูุฉ ุงูุฅุณูุงููุฉ': 'ุนูู ูุญูุฏ',
    'ุงููุบุฉ ุงูุนุฑุจูุฉ': 'ูุญูุฏ ุญุณูู',
    // ... ุฃุณูุงุก ุงูุชุฑุงุถูุฉ
  };
  return teacherNames[subjectName] ?? 'ุบูุฑ ูุญุฏุฏ';
}
```

**ุงููุดุงูู:**
```
โ ุฃุณูุงุก ุซุงุจุชุฉ ุบูุฑ ุญููููุฉ
โ ูุง ุชุชุบูุฑ ุญุณุจ ุงูุจูุงูุงุช ุงููุนููุฉ
โ TODO ูุนูู ููุฐ ุงูุจุฏุงูุฉ
```

---

## โ **ุงูุญู:**

### **1๏ธโฃ ุฅุถุงูุฉ ูุชุบูุฑ ูุชุฎุฒูู ุงูุฃุณูุงุก:**

```dart
class _StudentHomeCompleteState extends State<StudentHomeComplete> {
  Map<String, dynamic>? _studentData;
  Map<String, String> _teacherNames = {}; // โ ุฃุณูุงุก ุงููุนูููู ุญุณุจ ุงููุงุฏุฉ
  bool _isLoading = true;
  String? _errorMessage;
```

---

### **2๏ธโฃ ุชุญููู ุงูุฃุณูุงุก ุนูุฏ ุจุฏุก ุงูุตูุญุฉ:**

```dart
@override
void initState() {
  super.initState();
  _loadStudentData();
  _loadTeacherNames(); // โ ุชุญููู ุฃุณูุงุก ุงููุนูููู
}
```

---

### **3๏ธโฃ ุฏุงูุฉ ุชุญููู ุฃุณูุงุก ุงููุนูููู ูู Firestore:**

```dart
Future<void> _loadTeacherNames() async {
  try {
    // ุฌูุจ ุฌููุน ุงููุนูููู ูู Firestore
    final teachersSnapshot = await FirebaseFirestore.instance
        .collection('teachers')
        .get();

    final Map<String, String> names = {};
    
    // ุงููุฑูุฑ ุนูู ูู ูุนูู
    for (var doc in teachersSnapshot.docs) {
      final data = doc.data();
      final teacherName = data['name'] as String?;
      final subjects = data['subjects'] as List<dynamic>?;
      
      if (teacherName != null && subjects != null) {
        // ุงููุฑูุฑ ุนูู ููุงุฏ ุงููุนูู
        for (var subject in subjects) {
          if (subject is Map) {
            final subjectName = subject['name'] as String?;
            if (subjectName != null) {
              // ุฑุจุท ุงุณู ุงููุงุฏุฉ ุจุงุณู ุงููุนูู
              names[subjectName] = teacherName;
            }
          }
        }
      }
    }
    
    // ุชุญุฏูุซ ุงูุญุงูุฉ
    if (mounted) {
      setState(() {
        _teacherNames = names;
      });
    }
  } catch (e) {
    print('ุฎุทุฃ ูู ุชุญููู ุฃุณูุงุก ุงููุนูููู: $e');
  }
}
```

---

### **4๏ธโฃ ุฏุงูุฉ ุงูุญุตูู ุนูู ุงุณู ุงููุนูู (ูุญุฏุซุฉ):**

```dart
String _getTeacherName(String subjectName) {
  return _teacherNames[subjectName] ?? 'ุบูุฑ ูุญุฏุฏ';
}
```

---

## ๐ **ููู ูุนูู:**

### **1. ุงูุชุญููู:**
```
ุนูุฏ ูุชุญ ุงูุตูุญุฉ
    โ
_loadTeacherNames()
    โ
ุฌูุจ ุฌููุน ุงููุนูููู ูู 'teachers' collection
    โ
ุงููุฑูุฑ ุนูู ูู ูุนูู
    โ
ุงุณุชุฎุฑุงุฌ ุงุณู ุงููุนูู ูููุงุฏู
    โ
ุฑุจุท ูู ูุงุฏุฉ ุจุงุณู ุงููุนูู
    โ
ุชุฎุฒูู ูู _teacherNames
```

### **2. ุงูุนุฑุถ:**
```
ุนูุฏ ุนุฑุถ ุจุทุงูุฉ ุงููุงุฏุฉ
    โ
_buildSubjectCard(subject)
    โ
_getTeacherName(subjectName)
    โ
ุงูุจุญุซ ูู _teacherNames
    โ
ุนุฑุถ ุงุณู ุงููุนูู ุงูุญูููู
```

---

## ๐๏ธ **ุจููุฉ ุงูุจูุงูุงุช ูู Firestore:**

### **ูุฌููุนุฉ teachers:**

```json
{
  "teacherId": {
    "name": "ุฃุญูุฏ ูุญูุฏ",
    "subjects": [
      {
        "name": "ุงูุฑูุงุถูุงุช",
        "grade": "ุงูุฃูู ูุชูุณุท",
        "sections": ["ุฃ", "ุจ"]
      },
      {
        "name": "ุงูููุฒูุงุก",
        "grade": "ุงูุซุงูู ูุชูุณุท",
        "sections": ["ุฃ"]
      }
    ]
  }
}
```

### **ุงููุชูุฌุฉ ูู _teacherNames:**

```dart
{
  "ุงูุฑูุงุถูุงุช": "ุฃุญูุฏ ูุญูุฏ",
  "ุงูููุฒูุงุก": "ุฃุญูุฏ ูุญูุฏ",
  // ... ุจุงูู ุงูููุงุฏ
}
```

---

## ๐ก **ุงููููุฒุงุช:**

### **ุงูุฏููุงููููุฉ:**
```
โ ุชุญููู ุชููุงุฆู ูู Firestore
โ ุชุญุฏูุซ ููุฑู ุนูุฏ ุชุบููุฑ ุงูุจูุงูุงุช
โ ูุง ุญุงุฌุฉ ูุชุนุฏูู ุงูููุฏ
```

### **ุงูุฏูุฉ:**
```
โ ุฃุณูุงุก ุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุฑุจุท ุตุญูุญ ุจูู ุงููุงุฏุฉ ูุงููุนูู
โ ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุฎุงุตุฉ
```

### **ุงูุฃุฏุงุก:**
```
โ ุชุญููู ูุฑุฉ ูุงุญุฏุฉ ุนูุฏ ูุชุญ ุงูุตูุญุฉ
โ ุชุฎุฒูู ูู ุงูุฐุงูุฑุฉ
โ ูุตูู ุณุฑูุน ุนูุฏ ุงูุนุฑุถ
```

---

## ๐ **ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุฎุงุตุฉ:**

### **ุฅุฐุง ูู ููุฌุฏ ูุนูู ูููุงุฏุฉ:**
```dart
return _teacherNames[subjectName] ?? 'ุบูุฑ ูุญุฏุฏ';
```

### **ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูู ุงูุชุญููู:**
```dart
catch (e) {
  print('ุฎุทุฃ ูู ุชุญููู ุฃุณูุงุก ุงููุนูููู: $e');
  // ูุจูู _teacherNames ูุงุฑุบุงู
  // ุณูุธูุฑ "ุบูุฑ ูุญุฏุฏ" ูุฌููุน ุงูููุงุฏ
}
```

### **ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ:**
```dart
if (teacherName != null && subjects != null) {
  // ูุนุงูุฌุฉ ุขููุฉ
}
```

---

## ๐ **ุงููููุงุช ุงููุนุฏูุฉ:**

```
โ lib/ui/student/student_home_complete.dart
   - ุฅุถุงูุฉ ูุชุบูุฑ _teacherNames
   - ุฅุถุงูุฉ ุฏุงูุฉ _loadTeacherNames()
   - ุชุญุฏูุซ _getTeacherName()
   - ุงุณุชุฏุนุงุก ุงูุชุญููู ูู initState()

โ ุชูุซููุงุช_ุงููุดุฑูุน/61_REAL_TEACHER_NAMES.md
```

---

## ๐ **ูุฑุคูุฉ ุงูุชุนุฏููุงุช:**

```bash
ูู Terminal: ุงุถุบุท R
```

---

## ๐ **ููุงุญุธุงุช:**

### **ุงูุชุญููู:**
- ูุชู ุชุญููู ุฃุณูุงุก ุงููุนูููู ูุฑุฉ ูุงุญุฏุฉ ุนูุฏ ูุชุญ ุงูุตูุญุฉ
- ุงูุชุญููู ูุชู ุจุดูู ุบูุฑ ูุชุฒุงูู (async)
- ูุง ูุคุซุฑ ุนูู ุชุญููู ุจูุงูุงุช ุงูุทุงูุจ

### **ุงูุนุฑุถ:**
- ุฅุฐุง ูู ููุชูู ุงูุชุญููู ุจุนุฏุ ุณูุธูุฑ "ุบูุฑ ูุญุฏุฏ"
- ุจุนุฏ ุงูุชูุงู ุงูุชุญูููุ ุชุชุญุฏุซ ุงูุฃุณูุงุก ุชููุงุฆูุงู
- ูุชู ุงุณุชุฎุฏุงู `setState()` ููุชุญุฏูุซ

### **ุงูุฃุฏุงุก:**
- ุงุณุชุนูุงู ูุงุญุฏ ูุฌููุน ุงููุนูููู
- ุชุฎุฒูู ูู Map ูููุตูู ุงูุณุฑูุน O(1)
- ูุง ุญุงุฌุฉ ูุงุณุชุนูุงูุงุช ูุชุนุฏุฏุฉ

---

## ๐ **ุงููุชูุฌุฉ:**

```
โ ุฃุณูุงุก ุงููุนูููู ุงูุญููููุฉ ูู Firestore
โ ุชุญุฏูุซ ุชููุงุฆู
โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
โ ุฃุฏุงุก ููุชุงุฒ
โ ููุฏ ูุธูู ูููุธู
```

---

**ุงูุญุงูุฉ:** โ ููุชูู  
**ุงููุตุฏุฑ:** Firestore ๐ฅ  
**ุงูุฏูุฉ:** 100% โจ
