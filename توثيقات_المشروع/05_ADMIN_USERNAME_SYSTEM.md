# ğŸ‘¤ Ù†Ø¸Ø§Ù… Username Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©

## ğŸ“… **Ø§Ù„ØªØ§Ø±ÙŠØ®:** 31 Ø£ÙƒØªÙˆØ¨Ø± 2025

---

## ğŸ¯ **Ø§Ù„Ù‡Ø¯Ù:**

ØªØ³Ù‡ÙŠÙ„ Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… **Username** Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ù…Ø¹ ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠ `@codeira.com`.

---

## âœ… **Ø§Ù„Ù…ÙŠØ²Ø§Øª:**

### **1ï¸âƒ£ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¥Ø¯Ø§Ø±Ø©:**

#### **Ù‚Ø¨Ù„:**
```
Ø§Ù„Ø§Ø³Ù…: Ø³Ø§Ø±Ø©
Ø§Ù„Ø¨Ø±ÙŠØ¯: sara@codeira.com  â† ÙŠØ¬Ø¨ ÙƒØªØ§Ø¨ØªÙ‡ ÙƒØ§Ù…Ù„Ø§Ù‹
ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ******
```

#### **Ø¨Ø¹Ø¯:**
```
Ø§Ù„Ø§Ø³Ù…: Ø³Ø§Ø±Ø©
Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: sara  â† ÙÙ‚Ø·!
ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ******

Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹: sara@codeira.com âœ…
```

### **2ï¸âƒ£ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:**

#### **Ù‚Ø¨Ù„:**
```
Ø§Ù„Ø¨Ø±ÙŠØ¯: sara@codeira.com  â† ÙŠØ¬Ø¨ ÙƒØªØ§Ø¨ØªÙ‡ ÙƒØ§Ù…Ù„Ø§Ù‹
ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ******
```

#### **Ø¨Ø¹Ø¯:**
```
Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: sara  â† ÙÙ‚Ø·!
ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ******

Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¶ÙŠÙ @codeira.com ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ âœ…
```

---

## ğŸ”§ **Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©:**

### **1. create_admin_screen.dart:**

```dart
class _CreateAdminScreenState extends State<CreateAdminScreen> {
  final _usernameController = TextEditingController();
  String _generatedEmail = '';

  @override
  void initState() {
    super.initState();
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    _usernameController.addListener(() {
      setState(() {
        _generatedEmail = _usernameController.text.trim().isEmpty
            ? ''
            : '${_usernameController.text.trim()}@codeira.com';
      });
    });
  }

  Future<void> _createAdmin() async {
    // Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„ÙƒØ§Ù…Ù„
    final fullEmail = '${_usernameController.text.trim()}@codeira.com';
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
    final userCredential = await FirebaseAuth.instance
        .createUserWithEmailAndPassword(
      email: fullEmail,
      password: _passwordController.text,
    );
    
    // Ø­ÙØ¸ ÙÙŠ Firestore
    await FirebaseFirestore.instance
        .collection('users')
        .doc(userCredential.user!.uid)
        .set({
      'name': _nameController.text.trim(),
      'username': _usernameController.text.trim(),  // âœ… Ø­ÙØ¸ username
      'email': fullEmail,
      'role': 'admin',
      'createdAt': FieldValue.serverTimestamp(),
    });
  }
}
```

### **2. login_screen_new.dart:**

```dart
Future<void> _login() async {
  // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
  String email = _emailController.text.trim();
  
  // Ø¥Ø°Ø§ Ù„Ù… ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ @ØŒ Ù†Ø¶ÙŠÙ @codeira.com
  if (!email.contains('@')) {
    email = '$email@codeira.com';
  }
  
  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  final userCredential = await FirebaseAuth.instance
      .signInWithEmailAndPassword(
    email: email,
    password: _passwordController.text,
  );
  
  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯
}
```

---

## ğŸ“Š **ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:**

### **Ø´Ø§Ø´Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¥Ø¯Ø§Ø±Ø©:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠØ±                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Ø³Ø§Ø±Ø©                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚  Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Username)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ sara                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:  â”‚    â”‚
â”‚  â”‚ sara@codeira.com        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚  [ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø§Ø³Ù…      â”‚
â”‚  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ sara                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  ğŸ’¡ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©: ÙŠÙ…ÙƒÙ†Ùƒ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù…   â”‚
â”‚     Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø·                â”‚
â”‚                                  â”‚
â”‚  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚
â”‚  [ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” **Ø§Ù„Ø£Ù…Ø§Ù†:**

### **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Username:**
```dart
validator: (value) {
  if (value == null || value.trim().isEmpty) {
    return 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…';
  }
  if (value.contains('@') || value.contains(' ')) {
    return 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¯ÙˆÙ† @ Ø£Ùˆ Ù…Ø³Ø§ÙØ§Øª';
  }
  return null;
}
```

### **Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…ÙˆØ­Ø¯:**
- Ø¬Ù…ÙŠØ¹ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ³ØªØ®Ø¯Ù… `@codeira.com`
- Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø·Ø§Ù‚Ø§Øª Ø£Ø®Ø±Ù‰
- Username ÙØ±ÙŠØ¯ Ù„ÙƒÙ„ Ù…Ø¯ÙŠØ±

---

## ğŸ“ **Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**

### **Ù…Ø«Ø§Ù„ 1: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨:**
```
Input:
  Ø§Ù„Ø§Ø³Ù…: Ù…ØµØ·ÙÙ‰ Ø§Ù„Ù‡ÙŠØªÙŠ
  Username: mostafa
  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: Admin@123

Output:
  âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
  Ø§Ù„Ø¨Ø±ÙŠØ¯: mostafa@codeira.com
```

### **Ù…Ø«Ø§Ù„ 2: ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:**
```
Input:
  Username: mostafa
  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: Admin@123

Process:
  Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: mostafa@codeira.com

Output:
  âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  Ø§Ù„ØªÙˆØ¬ÙŠÙ‡: /admin
```

### **Ù…Ø«Ø§Ù„ 3: ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„ÙƒØ§Ù…Ù„ (Ù…Ø§ Ø²Ø§Ù„ ÙŠØ¹Ù…Ù„):**
```
Input:
  Ø§Ù„Ø¨Ø±ÙŠØ¯: mostafa@codeira.com
  ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: Admin@123

Process:
  ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ @ â† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙƒÙ…Ø§ Ù‡Ùˆ

Output:
  âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  Ø§Ù„ØªÙˆØ¬ÙŠÙ‡: /admin
```

---

## ğŸ—„ï¸ **Ù‡ÙŠÙƒÙ„ Firestore:**

```javascript
users/{uid}
{
  name: "Ø³Ø§Ø±Ø©",
  username: "sara",           // âœ… Ø¬Ø¯ÙŠØ¯
  email: "sara@codeira.com",
  role: "admin",
  createdAt: Timestamp
}
```

---

## âœ… **Ø§Ù„Ù…Ø²Ø§ÙŠØ§:**

```
âœ… Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
âœ… ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠ
âœ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©
âœ… ÙˆØ§Ø¬Ù‡Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©
âœ… Ø¯Ø¹Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚ØªÙŠÙ† (username Ø£Ùˆ email ÙƒØ§Ù…Ù„)
âœ… ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ„Ø¯
```

---

## ğŸ¯ **Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:**

| Ø§Ù„Ù…Ø¯Ø®Ù„ | Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© | Ø§Ù„Ù†ØªÙŠØ¬Ø© |
|--------|----------|---------|
| `sara` | Ø¥Ø¶Ø§ÙØ© `@codeira.com` | `sara@codeira.com` |
| `sara@codeira.com` | Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ…Ø§ Ù‡Ùˆ | `sara@codeira.com` |
| `student@gmail.com` | Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ…Ø§ Ù‡Ùˆ | `student@gmail.com` |

---

## ğŸ“Š **Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©:**

1. `lib/ui/admin/create_admin_screen.dart` - Ù†Ø¸Ø§Ù… Username
2. `lib/ui/login_screen_new.dart` - Ø¯Ø¹Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Username

---

**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù…ÙƒØªÙ…Ù„ ÙˆÙŠØ¹Ù…Ù„  
**Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±:** Ù†Ø¹Ù…  
**Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹:** Firebase Auth + Firestore
