# ๐ ุชุทุจูู ุชุตููู ุชุณุฌูู ุงูุฏุฎูู ูุงูุฅุดุนุงุฑุงุช ูุงูุบูุงุจ

## ๐ **ุงูุชุงุฑูุฎ:** 31 ุฃูุชูุจุฑ 2025

---

## ๐ฏ **ุงููุฏู:**

ุชุทุจูู ุงูุชุตููู ุงูุญุฏูุซ ูุงููููุฒุงุช ูู ูููุงุช MD ุงููุฏููุฉ:
- โ ุจุงูุฑ ุงูุบูุงุจ ุงูุฃุญูุฑ ุงููููุช ูููุธุฑ
- โ ูุธุงู ุญูุธ ุชุณุฌูู ุงูุฏุฎูู
- โ ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ
- โ ุงูุฅุดุนุงุฑุงุช ุงููุญุณููุฉ

---

## ๐ฅ **1. ุจุงูุฑ ุงูุบูุงุจ ุงูุฃุญูุฑ ุงููููุช:**

### **ุงูุชุตููู ุงูุฌุฏูุฏ:**

```dart
โ ุชุฏุฑุฌ ุฃุญูุฑ ูููุช (3 ุฃููุงู)
   - #FF1744 (ุฃุญูุฑ ูููู ุณุงุทุน)
   - #D50000 (ุฃุญูุฑ ุบุงูู)
   - #9C1010 (ุฃุญูุฑ ุฏุงูู ุฌุฏุงู)

โ ุธูุงู ูุชุนุฏุฏุฉ ููุนูู
   - ุธู ุฃุญูุฑ ููู (blurRadius: 20)
   - ุธู ุฃุญูุฑ ุฏุงุฎูู (blurRadius: 8)
   - ุชููุฌ ุฃุญูุฑ ุฎููู (blurRadius: 30)

โ ุญุฏ ุฃุญูุฑ ูุถูุก
   - #FF5252 ูุน ุดูุงููุฉ 60%
   - ุนุฑุถ 2px

โ ุฃููููุฉ ุฎูููุฉ ูุจูุฑุฉ ููุชููุฌ
   - ุฃููููุฉ ุชุญุฐูุฑ 130px (ุฃุจูุถ 15%)
   - ุฃููููุฉ ุชุญุฐูุฑ 120px (ุฃุตูุฑ 10%)

โ ุฃููููุฉ ุฑุฆูุณูุฉ ูุน ุชููุฌ
   - ุฏุงุฆุฑุฉ ุจูุถุงุก ุดูุงูุฉ
   - ุญุฏ ุฃุจูุถ
   - ุธู ุฃุจูุถ ููุชููุฌ

โ ูุต ูุญุณูู ูุน ุธูุงู
   - ุนููุงู "โ๏ธ ุชูุจูู ุบูุงุจ" (22sp, Bold)
   - ุธู ุฃุณูุฏ + ุธู ุฃุญูุฑ
   - Google Fonts Cairo

โ ุดุงุฑุฉ ุงูุชุงุฑูุฎ
   - ุฎูููุฉ ุจูุถุงุก ุดูุงูุฉ
   - ุญุฏ ุฃุจูุถ
   - ุฃููููุฉ ุชูููู
   - ูุต ุจุฎุท Cairo

โ ููุช ุงูุฅุฑุณุงู
   - ุฃููููุฉ ุณุงุนุฉ
   - ูุต "ุชู ุงูุฅุฑุณุงู: ..."
   - ููู ุฃุจูุถ ุดูุงู 90%
```

### **ุงูููุฏ:**

```dart
class AbsenceBanner extends StatelessWidget {
  final String message;
  final String? date;
  final String? sentTime;
  final VoidCallback? onTap;

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: BoxDecoration(
        gradient: LinearGradient(
          colors: [
            Color(0xFFFF1744), // ุฃุญูุฑ ูููู
            Color(0xFFD50000), // ุฃุญูุฑ ุบุงูู
            Color(0xFF9C1010), // ุฃุญูุฑ ุฏุงูู
          ],
        ),
        borderRadius: BorderRadius.circular(20),
        border: Border.all(
          color: Color(0xFFFF5252).withOpacity(0.6),
          width: 2,
        ),
        boxShadow: [
          // 3 ุธูุงู ูุฎุชููุฉ
        ],
      ),
      child: Stack(
        children: [
          // ุฃููููุฉ ุฎูููุฉ ููุชููุฌ
          Positioned(...),
          
          // ุงููุญุชูู ุงูุฑุฆูุณู
          Padding(
            child: Column(
              children: [
                // ุฃููููุฉ + ุนููุงู + ุชุงุฑูุฎ
                Row(...),
                
                // ุงูุฑุณุงูุฉ
                Text(message, style: GoogleFonts.cairo(...)),
                
                // ููุช ุงูุฅุฑุณุงู
                if (sentTime != null) Row(...),
              ],
            ),
          ),
        ],
      ),
    );
  }
}
```

---

## ๐ **2. ูุธุงู ุญูุธ ุชุณุฌูู ุงูุฏุฎูู:**

### **ุงูููุฒุงุช:**

```
โ ุญูุธ ุญุงูุฉ "ุญูุธ ูุนูููุงุช ุชุณุฌูู ุงูุฏุฎูู"
โ ุญูุธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
โ ุฌูุจ ุฏูุฑ ุงููุณุชุฎุฏู ูู Firestore
โ ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ (admin/teacher/student)
โ ุงูุชุญูู ุงูุชููุงุฆู ุนูุฏ ูุชุญ ุงูุชุทุจูู
โ ุดุงุดุฉ ุชุญููู ุฃุซูุงุก ุงูุชุญูู
โ ูุณุญ ุงูุจูุงูุงุช ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ
```

### **ุงูุณูุฑ:**

#### **ุชุณุฌูู ุงูุฏุฎูู:**
```
1. ุงููุณุชุฎุฏู ูุฏุฎู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ
2. ููุนู "ุญูุธ ูุนูููุงุช ุชุณุฌูู ุงูุฏุฎูู" โ
3. ูุถุบุท "ุฏุฎูู"
4. Firebase Auth: ุชุณุฌูู ุงูุฏุฎูู
5. SharedPreferences: ุญูุธ rememberMe = true
6. SharedPreferences: ุญูุธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
7. Firestore: ุฌูุจ ุฏูุฑ ุงููุณุชุฎุฏู
8. ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ:
   - admin โ /admin
   - teacher โ /teacher
   - student โ /student
```

#### **ูุชุญ ุงูุชุทุจูู (ูุน ุญูุธ):**
```
1. ุงูุชุทุจูู ูุจุฏุฃ
2. ุดุงุดุฉ ุชุญููู ุชุธูุฑ
3. ุงูุชุญูู ูู SharedPreferences
4. rememberMe = true โ
5. Firebase Auth: ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู โ
6. Firestore: ุฌูุจ ุฏูุฑ ุงููุณุชุฎุฏู
7. ุชุญุฏูุฏ initialRoute ุญุณุจ ุงูุฏูุฑ
8. ุงูุชูุฌูู ุงูุชููุงุฆู ููุตูุญุฉ ุงูููุงุณุจุฉ
```

#### **ุชุณุฌูู ุงูุฎุฑูุฌ:**
```
1. ุงููุณุชุฎุฏู ูุถุบุท "ุชุณุฌูู ุงูุฎุฑูุฌ"
2. ูุงูุฐุฉ ุชุฃููุฏ ุชุธูุฑ
3. ุงููุณุชุฎุฏู ูุถุบุท "ูุนูุ ุฎุฑูุฌ"
4. SharedPreferences: ูุณุญ rememberMe
5. SharedPreferences: ูุณุญ userEmail
6. Firebase Auth: ุชุณุฌูู ุงูุฎุฑูุฌ
7. ุงูุชูุฌูู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
```

### **Firestore Structure:**

```firestore
users/[uid] {
  email: string
  name: string
  role: "admin" | "teacher" | "student"
  
  // ููุทูุงุจ
  stage: string
  grade: string
  section: string
  branch: string
  
  // ูููุนูููู
  subjects: array
}
```

---

## ๐ **3. ูุธุงู ุงูุบูุงุจ:**

### **ุงูุชุฏูู:**

```
ููุญุฉ ุงูุฅุฏุงุฑุฉ
  โ
ุชุจููุจ "ุญุณุงุจุงุช ุงูุทูุงุจ"
  โ
ุงุถุบุท ุนูู ุงุณู ุงูุทุงูุจ
  โ
ุตูุญุฉ ูุนูููุงุช ุงูุทุงูุจ
  โ
ุฒุฑ "ุฅุฑุณุงู ุฅุดุนุงุฑ ุบูุงุจ" ๐ด
  โ
ุตูุญุฉ ูุชุงุจุฉ ุงูุฑุณุงูุฉ
  โ
ุงููุฃ ุงูุชุงุฑูุฎ ูุงูุฑุณุงูุฉ
  โ
ุงุถุบุท "ุฅุฑุณุงู" โ
  โ
ุงูุจุงูุฑ ูุธูุฑ ููุทุงูุจ ๐ฅ
```

### **ุงููุฏุฉ ุงูุฒูููุฉ:**

| ุงูููุงู | ุงููุฏุฉ |
|--------|-------|
| **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ** | 24 ุณุงุนุฉ |
| **ุณุฌู ุงูุบูุงุจุงุช** | ุณูุฉ ูุงููุฉ |
| **ููุญุฉ ุงูุฅุดุนุงุฑุงุช** | ุณูุฉ ูุงููุฉ |

### **ุงูุจูุงูุงุช ุงููุญููุธุฉ:**

#### **Collection: absences**
```javascript
{
  "studentUid": "student@school.com",
  "studentName": "ูุญูุฏ ุฃุญูุฏ",
  "message": "ุชู ุชุณุฌูู ุบูุงุจู...",
  "date": "26/10/2025",
  "stage": "ุงุจุชุฏุงุฆูุฉ",
  "grade": "ุงูุฎุงูุณ",
  "section": "ุฃ",
  "createdAt": Timestamp,
  "type": "absence"
}
```

#### **Collection: notifications_admin**
```javascript
{
  "studentUid": "student@school.com",
  "title": "โ๏ธ ุชูุจูู ุบูุงุจ",
  "body": "ุชู ุชุณุฌูู ุบูุงุจู...",
  "date": "26/10/2025",
  "target": "students",
  "type": "absence",
  "expiresAt": Timestamp (ุณูุฉ ูู ุงูุขู),
  "createdAt": Timestamp
}
```

---

## ๐จ **4. ุงูุชุตููู ุงููุฑุฆู:**

### **ุจุงูุฑ ุงูุบูุงุจ:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฅ GRADIENT: RED NEON โ DARK RED    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ซ GLOW                         โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ โ
โ  โ  โ ๐ [โ๏ธ] โ๏ธ ุชูุจูู ุบูุงุจ โ๐ โ โ
โ  โ  โ                         โ   โ โ
โ  โ  โ ุชู ุชุณุฌูู ุบูุงุจู ุงูููู   โ   โ โ
โ  โ  โ ุงูุฑุฌุงุก ูุฑุงุฌุนุฉ ุงูุฅุฏุงุฑุฉ  โ   โ โ
โ  โ  โ                         โ   โ โ
โ  โ  โ ๐ ุชู ุงูุฅุฑุณุงู: 2:00 PM โ   โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ       โฌ๏ธ MULTIPLE SHADOWS            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### **ุงูุฃููุงู:**

```
ุงูุชุฏุฑุฌ ุงูุฑุฆูุณู:
โโ #FF1744 (ุฃุญูุฑ ูููู ุณุงุทุน) - 0%
โโ #D50000 (ุฃุญูุฑ ุบุงูู) - 50%
โโ #9C1010 (ุฃุญูุฑ ุฏุงูู ุฌุฏุงู) - 100%

ุงูุญุฏูุฏ ูุงูุธูุงู:
โโ #FF5252 (ุฃุญูุฑ ูุงุชุญ ููุญุฏ)
โโ #FF1744 (ููุธู ุงูุฎุงุฑุฌู)
โโ #D50000 (ููุธู ุงูุฏุงุฎูู)

ุงูุนูุงุตุฑ:
โโ White (ูููุต ูุงูุฃููููุงุช)
โโ Yellow (#FFEB3B - ููุชููุฌ ุงูุฎููู)
โโ Black (ููุธูุงู ุงููุตูุฉ)
```

---

## ๐ **ุงููููุงุช ุงููุนุฏูุฉ:**

```
โ lib/ui/widgets/absence_banner.dart
   - ุชุฏุฑุฌ ุฃุญูุฑ ูููุช
   - ุธูุงู ูุชุนุฏุฏุฉ
   - ุฃููููุงุช ูุญุณููุฉ
   - Google Fonts
   - ุดุงุฑุฉ ุงูุชุงุฑูุฎ
   - ููุช ุงูุฅุฑุณุงู

โ lib/ui/login_screen_new.dart (ุณูุชู)
   - ุญูุธ ุชุณุฌูู ุงูุฏุฎูู
   - ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ
   - SharedPreferences

โ lib/main.dart (ุณูุชู)
   - ุงูุชุญูู ุงูุชููุงุฆู
   - ุดุงุดุฉ ุชุญููู
   - initialRoute ุฏููุงูููู

โ ุชูุซููุงุช_ุงููุดุฑูุน/29_APPLY_LOGIN_ABSENCE_NOTIFICATIONS.md
   - ุชูุซูู ุดุงูู
```

---

## ๐ฏ **ุงูููุงุฑูุฉ:**

### **ุจุงูุฑ ุงูุบูุงุจ:**

| ูุจู | ุจุนุฏ |
|-----|-----|
| ููู ุฃุญูุฑ ูุณุทุญ | ุชุฏุฑุฌ ุฃุญูุฑ ูููุช (3 ุฃููุงู) |
| ุธู ูุงุญุฏ ุจุณูุท | 3 ุธูุงู ูุฎุชููุฉ |
| ุจุฏูู ุญุฏูุฏ | ุญุฏ ุฃุญูุฑ ูุถูุก |
| ูุต ุนุงุฏู | ูุต ูุน ุธูุงู ูุฒุฏูุฌุฉ |
| ุฃููููุฉ ุจุณูุทุฉ | ุฃููููุฉ ูุน ุชููุฌ |
| ุจุฏูู ุชุงุฑูุฎ | ุดุงุฑุฉ ุชุงุฑูุฎ ูุญุณููุฉ |
| ุจุฏูู ููุช | ููุช ุงูุฅุฑุณุงู |

### **ุชุณุฌูู ุงูุฏุฎูู:**

| ูุจู | ุจุนุฏ |
|-----|-----|
| ูุง ูุญูุธ | ูุญูุธ ุชููุงุฆูุงู |
| ุฌููุน ุงูุญุณุงุจุงุช โ ุทูุงุจ | ุชูุฌูู ุญุณุจ ุงูุฏูุฑ |
| ูุง ูุชุญูู ูู ุงูุฏูุฑ | ูุฌูุจ ูู Firestore |
| ุจุฏูู ุชูุฌูู ุชููุงุฆู | ุชูุฌูู ุชููุงุฆู ุนูุฏ ุงููุชุญ |

---

## โจ **ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:**

### **1. ุงูุจุงูุฑ:**
```
๐ฅ ุชุฏุฑุฌ ุฃุญูุฑ ูููุช ุฌุฏุงู
๐ซ ุชููุฌ ูุธูุงู ูููุฉ
โจ ุนูู ุซูุงุซู ุงูุฃุจุนุงุฏ
๐ฏ ูุณุชุญูู ุชูููุชู
๐ ุดุงุฑุฉ ุชุงุฑูุฎ ุฌูููุฉ
๐ ููุช ุงูุฅุฑุณุงู
```

### **2. ุชุณุฌูู ุงูุฏุฎูู:**
```
โ ุญูุธ ุชููุงุฆู
โ ุชูุฌูู ุฐูู
โ ุชุญูู ูู ุงูุฏูุฑ
โ ุดุงุดุฉ ุชุญููู
โ ุขูู ููุญูู
```

### **3. ูุธุงู ุงูุบูุงุจ:**
```
โ ุณูู ุงูุงุณุชุฎุฏุงู
โ ุณุฌู ูุงูู
โ ุชุงุฑูุฎ ุชููุงุฆู
โ ูุฏุฉ ุฒูููุฉ ูุญุฏุฏุฉ
โ ุฅุดุนุงุฑุงุช ููุฑูุฉ
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **1. ุจุงูุฑ ุงูุบูุงุจ:**
```bash
flutter run

# ูุฌุจ ุฃู ุชุฑู:
โ ุจุงูุฑ ุฃุญูุฑ ูููุช ุฌุฏุงู
โ ุชุฏุฑุฌ ูููู ุฌููู
โ ุธูุงู ูุชููุฌ
โ ุฃููููุฉ ูุน ุชููุฌ
โ ุดุงุฑุฉ ุงูุชุงุฑูุฎ
โ ููุช ุงูุฅุฑุณุงู
```

### **2. ุชุณุฌูู ุงูุฏุฎูู:**
```
1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุฅุฏุงุฑุฉ
   โ ูุฌุจ ุฃู ุชุฐูุจ ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ

2. ูุนูู "ุญูุธ ูุนูููุงุช ุชุณุฌูู ุงูุฏุฎูู"
   โ ูุฌุจ ุฃู ูุญูุธ

3. ุฃุบูู ุงูุชุทุจูู ูุงูุชุญู
   โ ูุฌุจ ุฃู ุชุฐูุจ ูุจุงุดุฑุฉ ููุฅุฏุงุฑุฉ

4. ุณุฌู ุฎุฑูุฌ
   โ ูุฌุจ ุฃู ููุณุญ ุงูุจูุงูุงุช
```

### **3. ูุธุงู ุงูุบูุงุจ:**
```
1. ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ โ ุญุณุงุจุงุช ุงูุทูุงุจ
2. ุงุถุบุท ุนูู ุทุงูุจ
3. ุงุถุบุท "ุฅุฑุณุงู ุฅุดุนุงุฑ ุบูุงุจ"
4. ุงููุฃ ุงูุจูุงูุงุช ูุงุถุบุท ุฅุฑุณุงู
5. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุงูุทุงูุจ
   โ ูุฌุจ ุฃู ุชุฑู ุงูุจุงูุฑ ุงูุฃุญูุฑ
```

---

## ๐ก **ููุงุญุธุงุช ูููุฉ:**

### **ุงูุฃูุงู:**
```
โ ูุง ูุชู ุญูุธ ูููุฉ ุงููุฑูุฑ
โ SharedPreferences ููุจูุงูุงุช ุบูุฑ ุงูุญุณุงุณุฉ ููุท
โ ุงูุชุญูู ูู ุงูุฏูุฑ ูู Firestore ูู ูู ูุฑุฉ
โ ูุณุญ ุงูุจูุงูุงุช ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ
```

### **ุงูุฃุฏุงุก:**
```
โ ุดุงุดุฉ ุชุญููู ุณุฑูุนุฉ
โ ุชุญูู ููุฑู
โ ุชูุฌูู ุณูุณ
โ ุจุฏูู ุชุฃุฎูุฑ
```

### **ุงูุชุตููู:**
```
โ Material 3
โ Google Fonts
โ ุฃููุงู ูุชูุงุณูุฉ
โ ุชุฌุฑุจุฉ ุงุญุชุฑุงููุฉ
```

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

### **1. ุชุทุจูู ุนูู ุชุณุฌูู ุงูุฏุฎูู:**
```
- ุชุญุฏูุซ login_screen_new.dart
- ุฅุถุงูุฉ SharedPreferences
- ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ
```

### **2. ุชุญุฏูุซ main.dart:**
```
- ุฅุถุงูุฉ _checkLoginStatus
- ุดุงุดุฉ ุชุญููู
- initialRoute ุฏููุงูููู
```

### **3. ุงุฎุชุจุงุฑ ุดุงูู:**
```
- ุฌููุน ุงูุฃุฏูุงุฑ
- ุญูุธ ูุนุฏู ุญูุธ
- ุชุณุฌูู ุฎุฑูุฌ
- ูุชุญ ุงูุชุทุจูู
```

---

## ๐ **ุงููุชูุฌุฉ:**

```
โ ุจุงูุฑ ุบูุงุจ ุฃุญูุฑ ูููุช ุฌุฏุงู
โ ูุธุงู ุญูุธ ุชุณุฌูู ุฏุฎูู ูุงูู
โ ุชูุฌูู ุฐูู ุญุณุจ ุงูุฏูุฑ
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
โ ุชุตููู ุงุญุชุฑุงูู ุญุฏูุซ
โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
```

---

**ุงูุญุงูุฉ:** โ ุจุงูุฑ ุงูุบูุงุจ ููุชูู  
**ุงูุชุงูู:** ุชุทุจูู ูุธุงู ุชุณุฌูู ุงูุฏุฎูู  
**ุงูุชุตููู:** ุงุญุชุฑุงูู ููููุช  
**ุงูุฃุฏุงุก:** ููุชุงุฒ
