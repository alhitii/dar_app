# โ ุฅุตูุงุญ ูุดููุฉ ุงููุงุฌุจุงุช

## ๐ **ุงูุชุงุฑูุฎ:** 1 ููููุจุฑ 2025

---

## ๐ฏ **ุงููุดููุฉ:**

```
โ ุงููุงุฌุจุงุช ูุง ุชุตู ููุทุงูุจ
ุงูุณุจุจ: ุงุณุชุนูุงู ูุนูุฏ ูุญุชุงุฌ index
```

---

## โ **ุงูุญู:**

ุชู ุชุจุณูุท ุงูุงุณุชุนูุงู ูุฅุถุงูุฉ ููุชุฑุฉ ูู ุงูููุฏ:

### **ูุจู:**
```dart
final homeworksSnapshot = await FirebaseFirestore.instance
    .collection('homework')
    .where('stage', isEqualTo: stage)
    .where('grade', isEqualTo: grade)
    .where('sections', arrayContains: section)
    .where('activeUntil', isGreaterThan: Timestamp.fromDate(now))  // โ index ูุนูุฏ
    .get();
```

### **ุจุนุฏ:**
```dart
// ุงุณุชุนูุงู ุจุณูุท
final homeworksSnapshot = await FirebaseFirestore.instance
    .collection('homework')
    .where('stage', isEqualTo: stage)
    .where('grade', isEqualTo: grade)
    .where('sections', arrayContains: section)
    .get();  // โ ุจุฏูู activeUntil

// ููุชุฑุฉ ูู ุงูููุฏ
for (var doc in homeworksSnapshot.docs) {
  final activeUntil = (doc.data()['activeUntil'] as Timestamp?)?.toDate();
  
  if (activeUntil != null && activeUntil.isAfter(now)) {
    // ุฅุถุงูุฉ ุงููุงุฌุจ
  }
}
```

---

## ๐ **ุฑุณุงุฆู Console:**

### **ุนูุฏ ูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ:**
```
๐ ุชุญููู ุงููุงุฌุจุงุช ููุทุงูุจ...
   ุงููุฑุญูุฉ: ุฅุนุฏุงุฏูุฉ
   ุงูุตู: ุงูุฑุงุจุน
   ุงูุดุนุจุฉ: ุฃ
๐ ุนุฏุฏ ุงููุงุฌุจุงุช ุงูููู: 2
   - ูุงุฌุจ: ุญู ุงูุชูุงุฑูู, ูุงุฏุฉ: ุงูุฑูุงุถูุงุช, activeUntil: 2025-11-02 10:00:00
   โ ุชูุช ุงูุฅุถุงูุฉ
   - ูุงุฌุจ: ูุฑุงุกุฉ ุงูุฏุฑุณ, ูุงุฏุฉ: ุงูุนุฑุจูุฉ, activeUntil: 2025-10-31 09:00:00
   โ ุชู ุงูุชุฌุงูู (ููุชูู ุฃู ุจุฏูู ูุงุฏุฉ)
๐ ุนุฏุฏ ุงูููุงุฏ ุงูุชู ููุง ูุงุฌุจุงุช ูุดุทุฉ: 1
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **1. ุฃุฑุณู ูุงุฌุจ:**
```
1. ุณุฌู ุฏุฎูู ููุนูู
2. ุงุฎุชุฑ ูุงุฏุฉ ูุดุนุจุฉ
3. ุงูุชุจ ุนููุงู ูุชูุงุตูู
4. ุงุถุบุท ุฅุฑุณุงู
5. โ ูุฌุจ ุฃู ุชุฑู "ุชู ุฅุฑุณุงู ุงููุงุฌุจ ุจูุฌุงุญ"
```

### **2. ุชุญูู ูู Console:**
```
1. ุณุฌู ุฏุฎูู ูุทุงูุจ
2. ุงูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
3. ุฑุงูุจ Console
4. ูุฌุจ ุฃู ุชุฑู:
   ๐ ุชุญููู ุงููุงุฌุจุงุช...
   ๐ ุนุฏุฏ ุงููุงุฌุจุงุช ุงูููู: X
   โ ุชูุช ุงูุฅุถุงูุฉ
```

### **3. ุชุญูู ูู ุงููุงุฏุฉ:**
```
1. ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ุงุจุญุซ ุนู ุงููุงุฏุฉ
3. โ ูุฌุจ ุฃู ุชุฑู ุนูุงูุฉ ๐ ุนูู ุงููุงุฏุฉ
4. ุงุถุบุท ุนูู ุงููุงุฏุฉ
5. โ ูุฌุจ ุฃู ุชุฑู ุชูุงุตูู ุงููุงุฌุจ
```

---

## ๐ **ุงููููุงุช ุงููุนุฏูุฉ:**

```
โ lib/ui/student/student_home_complete.dart
   - ุชุจุณูุท ุงุณุชุนูุงู _loadActiveHomeworks
   - ุฅุถุงูุฉ ููุชุฑุฉ ูู ุงูููุฏ
   - ุฅุถุงูุฉ ุฑุณุงุฆู ุชุดุฎูุต
```

---

## ๐ฏ **ุงููุชูุฌุฉ:**

```
โ ุงููุงุฌุจุงุช ุชุตู ููุทุงูุจ
โ ุนูุงูุฉ ๐ ุชุธูุฑ ุนูู ุงููุงุฏุฉ
โ ุชูุงุตูู ุงููุงุฌุจ ุชุธูุฑ ุนูุฏ ุงูุถุบุท
โ ุชุจููุจ "ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ" ูุนูู
โ ูุง ูุญุชุงุฌ index ูุนูุฏ
```

---

## โ๏ธ **ููุงุญุธุฉ:**

**Index ุงููุทููุจ (ุจุณูุท):**
```
homework collection:
  - stage (Ascending)
  - grade (Ascending)
  - sections (Ascending)
```

ูุฐุง index ุจุณูุท ูููุฌูุฏ ุบุงูุจุงู ุจุดูู ุชููุงุฆู.

---

**ุงููุธุงู ููุชูู! ๐**
