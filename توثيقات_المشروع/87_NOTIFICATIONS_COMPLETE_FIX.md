# ๐ ุฅุตูุงุญ ุดุงูู ููุฅุดุนุงุฑุงุช

## ๐ **ุงูุชุงุฑูุฎ:** 1 ููููุจุฑ 2025

---

## โ **ุงููุดุงูู:**

```
1. ุงููุงุฌุจ ูุง ูุตู ุฅูุง ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
2. ูุง ููุฌุฏ ุตูุช
3. ูุง ููุฌุฏ ุงูุชุฒุงุฒ
```

---

## ๐ **ุงูุฃุณุจุงุจ:**

### **1. ุนุฏู ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ูู ุงูุฎูููุฉ:**
```
โ ูุง ููุฌุฏ Background Message Handler
โ ุงูุฅุดุนุงุฑุงุช ูุง ุชุตู ุนูุฏูุง ุงูุชุทุจูู ูุบูู
```

### **2. ููุงุฉ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ููุดุฃุฉ:**
```
โ AndroidManifest ูุดูุฑ ูู high_importance_channel
โ ููู ุงูููุงุฉ ุบูุฑ ููุดุฃุฉ ูู ุงูููุฏ
โ ุงูุตูุช ูุงูุงูุชุฒุงุฒ ูุง ูุนููุงู
```

### **3. ุนุฏู ุชุทุงุจู ุงุณู ุงูููุงุฉ:**
```
โ AndroidManifest: high_importance_channel
โ ุงูููุฏ: madrasah_channel
โ ุนุฏู ุงูุชุทุงุจู ูุณุจุจ ูุดุงูู
```

---

## โ **ุงูุญููู ุงููุทุจูุฉ:**

### **1. ุฅุถุงูุฉ Background Message Handler:**

```dart
// ูู main.dart

@pragma('vm:entry-point')
Future<void> _firebaseMessagingBackgroundHandler(RemoteMessage message) async {
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
  print('๐ ุฑุณุงูุฉ ูู ุงูุฎูููุฉ: ${message.notification?.title}');
}

void main() async {
  // ...
  FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);
  // ...
}
```

**ุงููุงุฆุฏุฉ:**
```
โ ูุนุงูุฌุฉ ุงูุฅุดุนุงุฑุงุช ุนูุฏูุง ุงูุชุทุจูู ูุบูู
โ ูุนุงูุฌุฉ ุงูุฅุดุนุงุฑุงุช ุนูุฏูุง ุงูุชุทุจูู ูู ุงูุฎูููุฉ
โ ุงูุฅุดุนุงุฑุงุช ุชุตู ููุฑุงู
```

---

### **2. ุฅูุดุงุก ููุงุฉ ุงูุฅุดุนุงุฑุงุช:**

```dart
// ูู notification_service.dart

Future<void> _createNotificationChannel() async {
  const AndroidNotificationChannel channel = AndroidNotificationChannel(
    'high_importance_channel',
    'ุฅุดุนุงุฑุงุช ุงููุฏุฑุณุฉ',
    description: 'ุฅุดุนุงุฑุงุช ุงููุงุฌุจุงุช ูุงูุบูุงุจ ูุงูุฅุฏุงุฑุฉ',
    importance: Importance.max,
    playSound: true,
    enableVibration: true,
    showBadge: true,
  );

  await _localNotifications
      .resolvePlatformSpecificImplementation<AndroidFlutterLocalNotificationsPlugin>()
      ?.createNotificationChannel(channel);
}
```

**ุงููุงุฆุฏุฉ:**
```
โ ููุงุฉ ุฅุดุนุงุฑุงุช ุจุฃูููุฉ ูุตูู
โ ุงูุตูุช ููุนูู
โ ุงูุงูุชุฒุงุฒ ููุนูู
โ ุงูุดุงุฑุฉ (badge) ููุนููุฉ
```

---

### **3. ุชูุญูุฏ ุงุณู ุงูููุงุฉ:**

```dart
// ูุจู
'madrasah_channel'

// ุจุนุฏ
'high_importance_channel'  // ูุทุงุจู AndroidManifest
```

**ุงููุงุฆุฏุฉ:**
```
โ ุชุทุงุจู ูุงูู ุจูู ุงูููุฏ ู AndroidManifest
โ ุนูู ุงูุตูุช ูุงูุงูุชุฒุงุฒ
โ ูุง ุชูุฌุฏ ุชุนุงุฑุถุงุช
```

---

## ๐ **ุงูุชุบููุฑุงุช ุงูุชูุตูููุฉ:**

### **1. main.dart:**
```dart
โ ุฅุถุงูุฉ import firebase_messaging
โ ุฅุถุงูุฉ _firebaseMessagingBackgroundHandler
โ ุชุณุฌูู Background Handler ูู main()
```

### **2. notification_service.dart:**
```dart
โ ุฅุถุงูุฉ _createNotificationChannel()
โ ุงุณุชุฏุนุงุก _createNotificationChannel() ูู initialize()
โ ุชุบููุฑ 'madrasah_channel' ุฅูู 'high_importance_channel'
โ ุฅุถุงูุฉ showWhen: true
```

### **3. AndroidManifest.xml:**
```xml
โ ููุฌูุฏ ูุณุจูุงู: high_importance_channel
โ ููุฌูุฏ ูุณุจูุงู: ุฌููุน ุงูุฃุฐููุงุช
โ ููุฌูุฏ ูุณุจูุงู: FCM Service
```

---

## ๐ **ููู ุชุนูู ุงูุฅุดุนุงุฑุงุช ุงูุขู:**

### **1. ุนูุฏูุง ุงูุชุทุจูู ููุชูุญ:**
```
1. Firebase ูุฑุณู ุงูุฅุดุนุงุฑ
2. FirebaseMessaging.onMessage ูุณุชูุจูู
3. _handleForegroundMessage ูุนุงูุฌู
4. _playNotificationSound() โ ุตูุช
5. _vibrate() โ ุงูุชุฒุงุฒ
6. _showLocalNotification() โ ุนุฑุถ ุงูุฅุดุนุงุฑ
```

### **2. ุนูุฏูุง ุงูุชุทุจูู ูู ุงูุฎูููุฉ:**
```
1. Firebase ูุฑุณู ุงูุฅุดุนุงุฑ
2. _firebaseMessagingBackgroundHandler ูุณุชูุจูู
3. ุงููุธุงู ูุนุฑุถ ุงูุฅุดุนุงุฑ ุชููุงุฆูุงู
4. ุงูุตูุช ูุงูุงูุชุฒุงุฒ ูุนููุงู (ูู ุงูููุงุฉ)
```

### **3. ุนูุฏูุง ุงูุชุทุจูู ูุบูู:**
```
1. Firebase ูุฑุณู ุงูุฅุดุนุงุฑ
2. _firebaseMessagingBackgroundHandler ูุณุชูุจูู
3. ุงููุธุงู ูุนุฑุถ ุงูุฅุดุนุงุฑ ุชููุงุฆูุงู
4. ุงูุตูุช ูุงูุงูุชุฒุงุฒ ูุนููุงู (ูู ุงูููุงุฉ)
5. ุนูุฏ ูุชุญ ุงูุชุทุจูู: getInitialMessage()
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **ุงูุฎุทูุฉ 1: ุจูุงุก APK ุฌุฏูุฏ:**
```bash
flutter clean
flutter build apk --release
```

### **ุงูุฎุทูุฉ 2: ุชุซุจูุช ุนูู ุงูุฌูุงุฒ:**
```bash
# ุงููู app-release.apk ููุฌูุงุฒ ูุซุจูุชู
```

### **ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช:**

#### **ุฃ. ุงูุชุทุจูู ููุชูุญ:**
```
1. ุงูุชุญ ุงูุชุทุจูู
2. ุฃุฑุณู ูุงุฌุจ ูู ุญุณุงุจ ุงููุนูู
3. โ ูุฌุจ ุฃู ูุตู ููุฑุงู
4. โ ูุฌุจ ุฃู ุชุณูุน ุตูุช
5. โ ูุฌุจ ุฃู ุชุดุนุฑ ุจุงูุชุฒุงุฒ
```

#### **ุจ. ุงูุชุทุจูู ูู ุงูุฎูููุฉ:**
```
1. ุงูุชุญ ุงูุชุทุจูู ุซู ุงุถุบุท Home
2. ุฃุฑุณู ูุงุฌุจ ูู ุญุณุงุจ ุงููุนูู
3. โ ูุฌุจ ุฃู ูุตู ููุฑุงู
4. โ ูุฌุจ ุฃู ุชุณูุน ุตูุช
5. โ ูุฌุจ ุฃู ุชุดุนุฑ ุจุงูุชุฒุงุฒ
6. โ ุงูุฅุดุนุงุฑ ูุธูุฑ ูู ุดุฑูุท ุงูุฅุดุนุงุฑุงุช
```

#### **ุฌ. ุงูุชุทุจูู ูุบูู:**
```
1. ุฃุบูู ุงูุชุทุจูู ุชูุงูุงู (ูู Recent Apps)
2. ุฃุฑุณู ูุงุฌุจ ูู ุญุณุงุจ ุงููุนูู
3. โ ูุฌุจ ุฃู ูุตู ููุฑุงู
4. โ ูุฌุจ ุฃู ุชุณูุน ุตูุช
5. โ ูุฌุจ ุฃู ุชุดุนุฑ ุจุงูุชุฒุงุฒ
6. โ ุงูุฅุดุนุงุฑ ูุธูุฑ ูู ุดุฑูุท ุงูุฅุดุนุงุฑุงุช
7. ุงุถุบุท ุนูู ุงูุฅุดุนุงุฑ
8. โ ุงูุชุทุจูู ููุชุญ
```

---

## ๐ **ููุงุญุธุงุช ูููุฉ:**

### **1. ุงูุฃุฐููุงุช:**
```
โ POST_NOTIFICATIONS (Android 13+)
โ VIBRATE
โ RECEIVE_BOOT_COMPLETED
โ WAKE_LOCK
โ ุฌููุนูุง ููุฌูุฏุฉ ูู AndroidManifest
```

### **2. ุงูููุงุฉ:**
```
โ high_importance_channel
โ Importance.max
โ playSound: true
โ enableVibration: true
```

### **3. ุงูุตูุช:**
```
โ RawResourceAndroidNotificationSound('default')
โ ูุณุชุฎุฏู ุตูุช ุงููุธุงู ุงูุงูุชุฑุงุถู
โ ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ
```

---

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

```
โ ุงูุฅุดุนุงุฑุงุช ุชุตู ููุฑุงู (ูุง ุชุญุชุงุฌ ุฅุนุงุฏุฉ ุชุดุบูู)
โ ุงูุตูุช ูุนูู
โ ุงูุงูุชุฒุงุฒ ูุนูู
โ ุชุนูู ุนูุฏูุง ุงูุชุทุจูู ููุชูุญ
โ ุชุนูู ุนูุฏูุง ุงูุชุทุจูู ูู ุงูุฎูููุฉ
โ ุชุนูู ุนูุฏูุง ุงูุชุทุจูู ูุบูู
โ ุงูุถุบุท ุนูู ุงูุฅุดุนุงุฑ ููุชุญ ุงูุชุทุจูู
```

---

## ๐ง **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:**

### **ุฅุฐุง ูู ูุตู ุงูุฅุดุนุงุฑ:**
```
1. ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
2. ุชุญูู ูู FCM Token (ูู logs)
3. ุชุญูู ูู Firebase Console
4. ุชุญูู ูู ุฃุฐููุงุช ุงูุฅุดุนุงุฑุงุช ูู ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ
```

### **ุฅุฐุง ูู ูุนูู ุงูุตูุช:**
```
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุตูุช ูู ุงูุฌูุงุฒ
2. ุชุญูู ูู ูุถุน "ูุง ุชุฒุนุฌ"
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู โ ุงูุฅุดุนุงุฑุงุช
4. ุชุฃูุฏ ูู ุฃู ุงูููุงุฉ ููุนููุฉ
```

### **ุฅุฐุง ูู ูุนูู ุงูุงูุชุฒุงุฒ:**
```
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุงูุชุฒุงุฒ ูู ุงูุฌูุงุฒ
2. ุชุญูู ูู ูุถุน "ูุง ุชุฒุนุฌ"
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู โ ุงูุฅุดุนุงุฑุงุช
```

---

**ุฌููุน ุงููุดุงูู ูุญูููุฉ! ๐**
