# ๐ ุชุจุณูุท ูุงุฌูุฉ ุฅูุดุงุก ุญุณุงุจ ุงูุทุงูุจ

## ๐ **ุงูุชุงุฑูุฎ:** 31 ุฃูุชูุจุฑ 2025

---

## ๐ฏ **ุงููุฏู:**

ุฌุนู ูุงุฌูุฉ ุฅูุดุงุก ุญุณุงุจ ุงูุทุงูุจ **ูุทุงุจูุฉ ุชูุงูุงู** ููุงุฌูุฉ ุฅูุดุงุก ุญุณุงุจ ุงููุนูู ูู ุญูุซ:
- ุงูุชุฑุชูุจ ูุงูุชุฏูู
- ุงุฎุชูุงุฑ ุงููุฑุญูุฉ โ ุงูุตู โ ุงููุฑุน (ููุฅุนุฏุงุฏูุฉ)
- ุนุฑุถ ุงูููุงุฏ ุชููุงุฆูุงู ูู Firestore

---

## ๐ **ุงูุชุบููุฑุงุช:**

### **ูุจู:**
```
ูุงุฌูุฉ ูุนูุฏุฉ:
- ูุธุงู EducationLevel enum
- RadioButtons ูููุฑุญูุฉ ูุงูุตู ูุงููุฑุน
- ุนุฑุถ ุงูููุงุฏ ูู EducationSystem
- ุชุตููู ูุฎุตุต ุจู Cards
```

### **ุจุนุฏ:**
```
ูุงุฌูุฉ ุจุณูุทุฉ (ูุซู ุงููุนูู):
- DropdownButtonFormField ูููุฑุญูุฉ
- DropdownButtonFormField ููุตู
- DropdownButtonFormField ูููุฑุน (ุฅุนุฏุงุฏูุฉ ููุท)
- ุชุญููู ุงูููุงุฏ ูู Firestore
- ุชุตููู ููุญุฏ ูุน ุงููุนูู
```

---

## ๐ **ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ:**

### **ุงูุญููู:**
```
1. ุงุณู ุงูุทุงูุจ
2. ุงุณู ุงููุณุชุฎุฏู (Username)
   โ ูููุฏ ุงูุจุฑูุฏ: username@codeira.com
3. ูููุฉ ุงููุฑูุฑ
4. ุงููุฑุญูุฉ (ุงุจุชุฏุงุฆูุฉ / ูุชูุณุทุฉ / ุฅุนุฏุงุฏูุฉ)
5. ุงูุตู (ุญุณุจ ุงููุฑุญูุฉ)
6. ุงููุฑุน (ุนููู / ุฃุฏุจู) - ููุฅุนุฏุงุฏูุฉ ููุท
7. ุงูุดุนุจุฉ (ุฃ / ุจ / ุฌ / ุฏ)
8. ุนุฑุถ ุงูููุงุฏ (ูู Firestore)
```

---

## ๐ **ุงูุชุฏูู:**

### **1. ุงุฎุชูุงุฑ ุงููุฑุญูุฉ:**
```
ุงููุณุชุฎุฏู ูุฎุชุงุฑ:
โ ุงุจุชุฏุงุฆูุฉ
โ ูุชูุณุทุฉ
โ ุฅุนุฏุงุฏูุฉ

โ ูุธูุฑ dropdown ุงูุตู
```

### **2. ุงุฎุชูุงุฑ ุงูุตู:**
```
ุงููุณุชุฎุฏู ูุฎุชุงุฑ:
โ ุงูุฃูู ูุชูุณุท
โ ุงูุซุงูู ูุชูุณุท
โ ุงูุซุงูุซ ูุชูุณุท

โ ูุชู ุชุญููู ุงูููุงุฏ ูู Firestore
```

### **3. ุงุฎุชูุงุฑ ุงููุฑุน (ุฅุนุฏุงุฏูุฉ ููุท):**
```
ุฅุฐุง ูุงูุช ุงููุฑุญูุฉ = ุฅุนุฏุงุฏูุฉ:

ุงููุณุชุฎุฏู ูุฎุชุงุฑ:
โ ุนููู
โ ุฃุฏุจู

โ ูุชู ุชุญููู ุงูููุงุฏ ุญุณุจ ุงููุฑุน
```

### **4. ุนุฑุถ ุงูููุงุฏ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ            โ
โ                                  โ
โ  ๐ ุงูุฅุณูุงููุฉ  ๐ ุงูุนุฑุจูุฉ      โ
โ  ๐ค ุงูุฅููููุฒูุฉ  ๐ ุงูุงุฌุชูุงุนูุงุช โ
โ  โ๏ธ ุงูููููุงุก   ๐งฌ ุงูุฃุญูุงุก      โ
โ  โก ุงูููุฒูุงุก   ๐ป ุงูุญุงุณูุจ      โ
โ  ๐ฏ ุงูุฃุฎูุงููุฉ  โฝ ุงูุฑูุงุถุฉ      โ
โ  ๐จ ุงููููุฉ                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐พ **ูููู Firestore:**

### **Collection: subjects**
```javascript
{
  name: "ุงูุฅุณูุงููุฉ",
  emoji: "๐",
  stage: "ูุชูุณุทุฉ",
  grade: "ุงูุซุงูู ูุชูุณุท",
  branch: null,  // ุฃู "ุนููู" / "ุฃุฏุจู" ููุฅุนุฏุงุฏูุฉ
}
```

### **Collection: users (ุงูุทุงูุจ)**
```javascript
{
  name: "ุนูู ูุญูุฏ",
  username: "ali2024",
  email: "ali2024@codeira.com",
  role: "student",
  stage: "ูุชูุณุทุฉ",
  grade: "ุงูุซุงูู ูุชูุณุท",
  branch: null,  // ุฃู "ุนููู" ููุฅุนุฏุงุฏูุฉ
  section: "ุฃ",
  createdAt: Timestamp
}
```

---

## ๐ง **ุงูููุฏ ุงูุฑุฆูุณู:**

### **ุชุญููู ุงูููุงุฏ:**
```dart
Future<void> _loadAvailableSubjects() async {
  if (_selectedStage == null || _selectedGrade == null) {
    setState(() => _availableSubjects = []);
    return;
  }

  if (_selectedStage == 'ุฅุนุฏุงุฏูุฉ' && _selectedBranch == null) {
    setState(() => _availableSubjects = []);
    return;
  }

  try {
    Query query = FirebaseFirestore.instance.collection('subjects');
    
    query = query.where('stage', isEqualTo: _selectedStage);
    query = query.where('grade', isEqualTo: _selectedGrade);
    
    if (_selectedStage == 'ุฅุนุฏุงุฏูุฉ' && _selectedBranch != null) {
      query = query.where('branch', isEqualTo: _selectedBranch);
    }

    final snapshot = await query.get();
    
    setState(() {
      _availableSubjects = snapshot.docs
          .map((doc) {
            final data = doc.data() as Map<String, dynamic>;
            return {
              'id': doc.id,
              'name': data['name'] ?? '',
              'emoji': data['emoji'] ?? '',
            };
          })
          .toList();
      
      _availableSubjects.sort((a, b) => a['name'].compareTo(b['name']));
    });
  } catch (e) {
    print('ุฎุทุฃ ูู ุชุญููู ุงูููุงุฏ: $e');
  }
}
```

### **ุฅูุดุงุก ุงูุญุณุงุจ:**
```dart
Future<void> _createStudent() async {
  final fullEmail = '${_usernameController.text.trim()}@codeira.com';

  final userCredential = await FirebaseAuth.instance
      .createUserWithEmailAndPassword(
    email: fullEmail,
    password: _passwordController.text,
  );

  final studentData = {
    'name': _nameController.text.trim(),
    'username': _usernameController.text.trim(),
    'email': fullEmail,
    'role': 'student',
    'stage': _selectedStage,
    'grade': _selectedGrade,
    'section': _selectedSection,
    'createdAt': FieldValue.serverTimestamp(),
  };

  if (_selectedStage == 'ุฅุนุฏุงุฏูุฉ' && _selectedBranch != null) {
    studentData['branch'] = _selectedBranch;
  }

  await FirebaseFirestore.instance
      .collection('users')
      .doc(userCredential.user!.uid)
      .set(studentData);
}
```

---

## ๐ **ุงููููุงุช:**

### **ุงูููู ุงูุฌุฏูุฏ:**
```
โ lib/ui/admin/create_student_screen_simple.dart
   - ูุงุฌูุฉ ุจุณูุทุฉ ูุซู ุงููุนูู
   - ุชุญููู ุงูููุงุฏ ูู Firestore
   - ููุณ ุงูุชุตููู ูุงูุชุฏูู
```

### **ุงููููุงุช ุงููุนุฏูุฉ:**
```
โ lib/ui/admin/students_management_screen.dart
   - ุชุบููุฑ import
   - ุงุณุชุฎุฏุงู CreateStudentScreenSimple
```

---

## โ **ุงููุฒุงูุง:**

```
โ ูุงุฌูุฉ ููุญุฏุฉ ูุน ุงููุนูู
โ ุชุญููู ุฏููุงูููู ูู Firestore
โ ุฏุนู ุฌููุน ุงููุฑุงุญู ูุงููุฑูุน
โ ุนุฑุถ ุงูููุงุฏ ุชููุงุฆูุงู
โ ุชุตููู ุจุณูุท ููุจุงุดุฑ
โ ุณูููุฉ ุงูุตูุงูุฉ
```

---

## ๐จ **ูุซุงู ุงูุงุณุชุฎุฏุงู:**

### **ุฅูุดุงุก ุทุงูุจ ูุชูุณุท:**
```
1. ุงูุงุณู: ุนูู ูุญูุฏ
2. Username: ali2024
   โ ุงูุจุฑูุฏ: ali2024@codeira.com
3. ูููุฉ ุงููุฑูุฑ: ******
4. ุงููุฑุญูุฉ: ูุชูุณุทุฉ
5. ุงูุตู: ุงูุซุงูู ูุชูุณุท
6. ุงูุดุนุจุฉ: ุฃ

โ ุงูููุงุฏ ุชุธูุฑ ุชููุงุฆูุงู:
   ๐ ุงูุฅุณูุงููุฉุ ๐ ุงูุนุฑุจูุฉุ ๐ค ุงูุฅููููุฒูุฉ
   ๐ ุงูุงุฌุชูุงุนูุงุชุ โ๏ธ ุงูููููุงุกุ ๐งฌ ุงูุฃุญูุงุก
   โก ุงูููุฒูุงุกุ ๐ป ุงูุญุงุณูุจุ ๐ฏ ุงูุฃุฎูุงููุฉ
   โฝ ุงูุฑูุงุถุฉุ ๐จ ุงููููุฉ
```

### **ุฅูุดุงุก ุทุงูุจ ุฅุนุฏุงุฏู:**
```
1. ุงูุงุณู: ุณุงุฑุฉ ุฃุญูุฏ
2. Username: sara2024
   โ ุงูุจุฑูุฏ: sara2024@codeira.com
3. ูููุฉ ุงููุฑูุฑ: ******
4. ุงููุฑุญูุฉ: ุฅุนุฏุงุฏูุฉ
5. ุงูุตู: ุงูุฎุงูุณ ุฅุนุฏุงุฏู
6. ุงููุฑุน: ุนููู โ ูุธูุฑ ููุท ููุฅุนุฏุงุฏูุฉ
7. ุงูุดุนุจุฉ: ุจ

โ ุงูููุงุฏ ุชุธูุฑ ุชููุงุฆูุงู (ุนููู):
   ๐ ุงูุฅุณูุงููุฉุ ๐ ุงูุนุฑุจูุฉุ ๐ค ุงูุฅููููุฒูุฉ
   โ ุงูุฑูุงุถูุงุชุ โ๏ธ ุงูููููุงุกุ โก ุงูููุฒูุงุก
   ๐งฌ ุงูุฃุญูุงุกุ ๐ป ุงูุญุงุณูุจุ โฝ ุงูุฑูุงุถุฉ
   ๐จ ุงููููุฉ
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

```bash
flutter run
```

### **ุงุฎุชุจุฑ:**
1. โ ุงูุชุญ ุชุจููุจ "ุงูุทูุงุจ"
2. โ ุงุถุบุท "ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ"
3. โ ุงููุฃ ุงูุจูุงูุงุช
4. โ ุงุฎุชุฑ ุงููุฑุญูุฉ โ ูุธูุฑ ุงูุตู
5. โ ุงุฎุชุฑ ุงูุตู โ ุชุธูุฑ ุงูููุงุฏ
6. โ ููุฅุนุฏุงุฏูุฉ: ุงุฎุชุฑ ุงููุฑุน โ ุชุธูุฑ ููุงุฏ ุงููุฑุน
7. โ ุชุญูู ูู ุงูุจุฑูุฏ ุงููููุฏ
8. โ ุฃูุดุฆ ุงูุญุณุงุจ

---

## ๐ **ุงูููุงุฑูุฉ:**

| ุงูููุฒุฉ | ุงููุฏูู | ุงูุฌุฏูุฏ |
|--------|--------|--------|
| ุงูุชุตููู | ูุฎุตุต | ููุญุฏ ูุน ุงููุนูู โ |
| ุงูููุงุฏ | ูู ุงูููุฏ | ูู Firestore โ |
| ุงููุฑูุน | ูุฏูู | ุฏููุงูููู โ |
| ุงููุงุฌูุฉ | ูุนูุฏุฉ | ุจุณูุทุฉ โ |
| ุงูุตูุงูุฉ | ุตุนุจุฉ | ุณููุฉ โ |

---

**ุงูุญุงูุฉ:** โ ููุชูู ููุนูู  
**ุฌุงูุฒ ููุงุฎุชุจุงุฑ:** ูุนู  
**ุงูุชุญุณููุงุช:** ูุงุฌูุฉ ููุญุฏุฉ + ุชุญููู ุฏููุงูููู
