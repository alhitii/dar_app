# โ ุฅุตูุงุญ ุตูุญุงุช ุงูุชุนุฏูู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ

## ๐ ุงููุดุงูู ุงูููุตูุญุฉ

### โ๏ธ ุงููุดููุฉ 1: ุชุนุฏูู ุงููุนูู
**ุงููุตู:** ุนูุฏ ูุชุญ ุตูุญุฉ ุชุนุฏูู ุงููุนููุ ุชุธูุฑ ุฑุณุงูุฉ "ููุฒุฉ ุชุนุฏูู ุงููุนูู ุณุชููู ูุชุงุญุฉ ูุฑูุจุงู"

**ุงูุญู:** โ ุชู ุฅูุดุงุก ุตูุญุฉ ุชุนุฏูู ูุงููุฉ ูููุนูู

### โ๏ธ ุงููุดููุฉ 2: ุชุนุฏูู ุงูุทุงูุจ  
**ุงููุตู:** ุงูุตูุญุฉ ุชุธูุฑ ุฑูุงุฏูุฉ ุจุงููุงูู ููุง ูููู ุงูุชูุงุนู ุฅูุง ูุน ุฒุฑ ุงูุบูุงุจ

**ุงูุญู:** โ ุชู ุฅุตูุงุญ ุฎูููุฉ ุงูุญูุงุฑ ูุถูุงู ุนูู ุฌููุน ุงูุญููู

---

## ๐๏ธ ุงูุชุนุฏููุงุช ุงูููููุฐุฉ

### 1๏ธโฃ ุฅูุดุงุก ุตูุญุฉ ุชุนุฏูู ุงููุนูู ุงูุฌุฏูุฏุฉ

**ุงูููู:** `lib/ui/admin/edit_teacher_dialog.dart`

**ุงูููุฒุงุช:**
- โ ุชุนุฏูู ุงูุงุณู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุชุนุฏูู ุงููุฑุญูุฉ ูุงูุตู ูุงููุฑุน
- โ ุงุฎุชูุงุฑ ุงูุดูุนุจ (ูุชุนุฏุฏ)
- โ ุงุฎุชูุงุฑ ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ (ูุชุนุฏุฏ)
- โ ุงูุชุญูู ูู ุงูุจูุงูุงุช (Validation)
- โ ุงูุชุญุฏูุซ ูู `users` ู `users_emails`
- โ ุฑุณุงุฆู ูุฌุงุญ/ูุดู ูุงุถุญุฉ

**ุงูุญููู ุงููุชุงุญุฉ:**
```dart
{
  "name": "ุงุณู ุงููุนูู",
  "email": "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู",
  "stage": "ุงููุฑุญูุฉ (ุงุจุชุฏุงุฆูุฉ/ูุชูุณุทุฉ/ุฅุนุฏุงุฏูุฉ)",
  "grade": "ุงูุตู",
  "branch": "ุงููุฑุน (ููุฅุนุฏุงุฏูุฉ ููุท)",
  "sections": ["ุฃ", "ุจ", "ุฌ"],
  "subjects": ["subject_id_1", "subject_id_2"]
}
```

**ุงูุงุณุชุฎุฏุงู:**
```dart
await showDialog<bool>(
  context: context,
  builder: (context) => EditTeacherDialog(teacher: teacherData),
);
```

---

### 2๏ธโฃ ุชุญุฏูุซ ูุงุฆูุฉ ุงููุนูููู

**ุงูููู:** `lib/ui/admin/dynamic_users_list.dart`

**ุงูุชุนุฏููุงุช:**
- โ ุฅุถุงูุฉ `import 'edit_teacher_dialog.dart';`
- โ ุชุญุฏูุซ ุฏุงูุฉ `_editTeacher()` ูุงุณุชุฎุฏุงู ุงูุตูุญุฉ ุงูุฌุฏูุฏุฉ
- โ ุฅุนุงุฏุฉ ุชุญููู ุงููุงุฆูุฉ ุจุนุฏ ุงูุชุนุฏูู ุงููุงุฌุญ

**ูุจู:**
```dart
// ุฑุณุงูุฉ "ููุฒุฉ ุบูุฑ ูุชุงุญุฉ"
await showDialog(
  context: context,
  builder: (context) => AlertDialog(
    content: const Text('ููุฒุฉ ุชุนุฏูู ุงููุนูู ุณุชููู ูุชุงุญุฉ ูุฑูุจุงู...'),
  ),
);
```

**ุจุนุฏ:**
```dart
// ุตูุญุฉ ุชุนุฏูู ูุงููุฉ
final result = await showDialog<bool>(
  context: context,
  builder: (context) => EditTeacherDialog(teacher: teacher),
);

if (result == true) {
  _loadTeachers(); // ุฅุนุงุฏุฉ ุชุญููู
}
```

---

### 3๏ธโฃ ุฅุตูุงุญ ุตูุญุฉ ุชุนุฏูู ุงูุทุงูุจ

**ุงูููู:** `lib/ui/admin/edit_student_enhanced.dart`

**ุงููุดููุฉ:** ุงูุญูุงุฑ ูุธูุฑ ุฑูุงุฏู ุจุณุจุจ `surfaceTintColor` ูู Material 3

**ุงูุญู:**
```dart
// โ ุฅุถุงูุฉ ุฃููุงู ุตุฑูุญุฉ
return AlertDialog(
  backgroundColor: Colors.white,          // โ ุฌุฏูุฏ
  surfaceTintColor: Colors.white,         // โ ุฌุฏูุฏ
  title: const Text('ุชุนุฏูู ุจูุงูุงุช ุงูุทุงูุจ'),
  content: ...,
);
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### โ ุตูุญุฉ ุชุนุฏูู ุงููุนูู:
- [x] ุชุนูู ุจุดูู ูุงูู
- [x] ุฌููุน ุงูุญููู ูุงุจูุฉ ููุชุญุฑูุฑ
- [x] ุงุฎุชูุงุฑ ููุงุฏ ูุชุนุฏุฏ
- [x] ุงุฎุชูุงุฑ ุดูุนุจ ูุชุนุฏุฏ
- [x] ุงูุชุญุฏูุซ ูู Firestore ูุนูู
- [x] ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู

### โ ุตูุญุฉ ุชุนุฏูู ุงูุทุงูุจ:
- [x] ุงูุฎูููุฉ ุจูุถุงุก ูููุณุช ุฑูุงุฏูุฉ
- [x] ุฌููุน ุงูุญููู ูุงุจูุฉ ููุชุญุฑูุฑ
- [x] ุฒุฑ ุงูุบูุงุจ ูุนูู ุจุดูู ูุณุชูู
- [x] ุญูุธ ุงูุชุนุฏููุงุช ูุนูู
- [x] ุชุญุฏูุซ ุงูููุงุฏ ุชููุงุฆูุงู

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญุงุช

### ุงุฎุชุจุงุฑ ุชุนุฏูู ุงููุนูู:

1. **ุงูุชุญ ููุญุฉ ุงูุฅุฏุงุฑุฉ**
2. **ุงุฐูุจ ุฅูู ุชุจููุจ "ุงููุนูููู"**
3. **ุงุถุบุท ุนูู ูุงุฆูุฉ ุฃู ูุนูู**
4. **ุงุฎุชุฑ "ุชุนุฏูู"**

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุธูุฑ ุญูุงุฑ ุชุนุฏูู ูุงูู
- โ ุฌููุน ุงูุญููู ููููุกุฉ ุจุงูุจูุงูุงุช ุงูุญุงููุฉ
- โ ูููู ุชุนุฏูู ุฃู ุญูู
- โ ูุงุฆูุฉ ุงูููุงุฏ ุชูุญููู ูู Firestore
- โ ูููู ุงุฎุชูุงุฑ ููุงุฏ ูุชุนุฏุฏุฉ
- โ ุนูุฏ ุงูุญูุธุ ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ
- โ ุงููุงุฆูุฉ ุชูุญุฏูุซ ุชููุงุฆูุงู

### ุงุฎุชุจุงุฑ ุชุนุฏูู ุงูุทุงูุจ:

1. **ุงูุชุญ ููุญุฉ ุงูุฅุฏุงุฑุฉ**
2. **ุงุฐูุจ ุฅูู ุชุจููุจ "ุงูุทูุงุจ"**
3. **ุงุถุบุท ุนูู ูุงุฆูุฉ ุฃู ุทุงูุจ**
4. **ุงุฎุชุฑ "ุชุนุฏูู"**

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุญูุงุฑ ูุธูุฑ ุจุฎูููุฉ ุจูุถุงุก (ูููุณ ุฑูุงุฏู)
- โ ุฌููุน ุงูุญููู ูุงุถุญุฉ ููุงุจูุฉ ููุชุญุฑูุฑ
- โ ูููู ุชุนุฏูู ุงูุงุณูุ ุงูุจุฑูุฏุ ุงููุฑุญูุฉุ ุงูุตูุ ุงูุดุนุจุฉ
- โ ุฒุฑ "ุบูุงุจ" ูุนูู ุจุดูู ูููุตู
- โ ุฒุฑ "ุญูุธ ุงูุชุบููุฑุงุช" ูุนูู
- โ ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ ุจุนุฏ ุงูุญูุธ

---

## ๐ ุงููููุงุช ุงูููุนุฏููุฉ

| ุงูููู | ุงูููุน | ุงููุตู |
|------|------|-------|
| `lib/ui/admin/edit_teacher_dialog.dart` | โจ ุฌุฏูุฏ | ุตูุญุฉ ุชุนุฏูู ุงููุนูู ุงููุงููุฉ |
| `lib/ui/admin/dynamic_users_list.dart` | ๐ง ูุนุฏูู | ุงุณุชุฎุฏุงู ุตูุญุฉ ุงูุชุนุฏูู ุงูุฌุฏูุฏุฉ |
| `lib/ui/admin/edit_student_enhanced.dart` | ๐ง ูุนุฏูู | ุฅุตูุงุญ ุงูุฎูููุฉ ุงูุฑูุงุฏูุฉ |

---

## ๐ ุงูุจูุงูุงุช ุงูููุญุฏูุซุฉ ูู Firestore

### ุนูุฏ ุชุนุฏูู ูุนูู:

**Collection: `users`**
```json
{
  "uid_ุงููุนูู": {
    "name": "ุงูุงุณู ุงูุฌุฏูุฏ",
    "email": "email@updated.com",
    "stage": "ุฅุนุฏุงุฏูุฉ",
    "grade": "ุงูุซุงูุซ",
    "branch": "ุนููู",
    "sections": ["ุฃ", "ุจ"],
    "subjects": ["math_id", "physics_id", "chemistry_id"],
    "updatedAt": "2025-01-25T12:00:00Z"
  }
}
```

**Collection: `users_emails`**
```json
{
  "email@updated.com": {
    "uid": "uid_ุงููุนูู",
    "name": "ุงูุงุณู ุงูุฌุฏูุฏ",
    "email": "email@updated.com",
    "role": "teacher",
    "stage": "ุฅุนุฏุงุฏูุฉ",
    "subjects": ["math_id", "physics_id", "chemistry_id"],
    "sections": ["ุฃ", "ุจ"]
  }
}
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ุชุญุฏูุซ ุงูููุงุฏ:
- ุงูููุงุฏ ุชูุญููู ูู `collection('subjects')` ูู Firestore
- ูุฌุจ ุฃู ุชููู ุงูููุงุฏ ููุฌูุฏุฉ ูุณุจูุงู
- ูุชู ุนุฑุถ ุงุณู ุงููุงุฏุฉ (`name`) ูู ุงููุงุฆูุฉ
- ูุชู ุญูุธ ูุนุฑูู ุงููุงุฏุฉ (`id`) ูู ุจูุงูุงุช ุงููุนูู

### 2. ุงูุดูุนุจ:
- ููุณุชุฎุฏู ูุนูุงุฑ `sections: List<String>` (ูุนูุงุฑ ุฌุฏูุฏ)
- ูุชูุงูู ูุน ุงูุญูู ุงููุฏูู `section: String`
- ูุฌุจ ุงุฎุชูุงุฑ ุดุนุจุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู

### 3. ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:
- ุนูุฏ ุชุบููุฑ ุงูุจุฑูุฏุ ูุชู ุงูุชุญุฏูุซ ูู `users` ู `users_emails`
- ูุชู ุชุญููู ุงูุจุฑูุฏ ุฅูู lowercase ุชููุงุฆูุงู

### 4. Material 3:
- ุชู ุฅุถุงูุฉ `backgroundColor` ู `surfaceTintColor` ูุฅุตูุงุญ ุงููุธูุฑ ุงูุฑูุงุฏู
- ูุนูู ูุน Flutter 3.x ู Material 3

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุชุฃูุฏ ูู ูุฌูุฏ ุงูููุงุฏ ูู Firestore:
```
subjects/
  โโโ math/
  โ   โโโ name: "ุงูุฑูุงุถูุงุช"
  โโโ science/
  โ   โโโ name: "ุงูุนููู"
  โโโ arabic/
      โโโ name: "ุงููุบุฉ ุงูุนุฑุจูุฉ"
```

### 2. ุดุบูู ุงูุชุทุจูู:
```bash
flutter run -d windows
```

### 3. ุณุฌูู ุฏุฎูู ููุณุคูู

### 4. ุฌุฑูุจ ุชุนุฏูู ูุนูู ูุทุงูุจ

---

## โ Checklist ุงูููุงุฆู

- [x] ุตูุญุฉ ุชุนุฏูู ุงููุนูู ุชุนูู
- [x] ุฌููุน ุญููู ุงููุนูู ูุงุจูุฉ ููุชุนุฏูู
- [x] ุงุฎุชูุงุฑ ุงูููุงุฏ ูุชุนุฏุฏ ูุนูู
- [x] ุตูุญุฉ ุชุนุฏูู ุงูุทุงูุจ ููุณุช ุฑูุงุฏูุฉ
- [x] ุฌููุน ุญููู ุงูุทุงูุจ ูุงุจูุฉ ููุชูุงุนู
- [x] ุฒุฑ ุงูุบูุงุจ ูุนูู ุจุดูู ูุณุชูู
- [x] ุงูุชุญุฏูุซ ูู Firestore ูุนูู
- [x] ุฑุณุงุฆู ุงููุฌุงุญ/ุงููุดู ูุงุถุญุฉ
- [x] ุงูููุงุฆู ุชูุญุฏูุซ ุจุนุฏ ุงูุชุนุฏูู

---

**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู**
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-25
