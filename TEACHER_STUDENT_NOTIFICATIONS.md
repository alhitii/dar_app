# โ ูุธุงู ุงูุฅุดุนุงุฑุงุช ูููุนูููู ูุงูุทูุงุจ

## ๐ **ุงูุชุงุฑูุฎ:** 1 ููููุจุฑ 2025

---

## ๐ฏ **ุงูุชุญุฏูุซุงุช:**

### **1๏ธโฃ ุฅุตูุงุญ ุงุณุชุนูุงูุงุช Firestore:**
```
โ ูุจู: ุงุณุชุนูุงูุงุช ูุนูุฏุฉ ุชุญุชุงุฌ indexes ูุชุนุฏุฏุฉ
โ ุจุนุฏ: ุงุณุชุนูุงูุงุช ุจุณูุทุฉ + ููุชุฑุฉ ูู ุงูููุฏ
```

### **2๏ธโฃ ุฏุนู ุงููุนูููู ูุงูุทูุงุจ:**
```
โ ุงูุทูุงุจ: ูุฑูู ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ + ุฅุดุนุงุฑุงุช ุงูุบูุงุจ
โ ุงููุนูููู: ูุฑูู ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ ููุท
โ ููุชุฑุฉ ุชููุงุฆูุฉ ุญุณุจ ุงูุฏูุฑ (all, student, teacher)
```

---

## ๐ **ููู ูุนูู:**

### **InboxScreen (ูููุนูููู ูุงูุทูุงุจ):**
```dart
1. ุชุญุฏูุฏ ุฏูุฑ ุงููุณุชุฎุฏู (student ุฃู teacher)
2. ุชุญููู ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ (isActive = true)
3. ููุชุฑุฉ ุญุณุจ:
   - expiresAt (ูู ููุชูู ุจุนุฏ)
   - targetRole (all ุฃู ุฏูุฑ ุงููุณุชุฎุฏู)
4. ุฅุฐุง ูุงู ุทุงูุจ: ุชุญููู ุฅุดุนุงุฑุงุช ุงูุบูุงุจ
```

### **StudentHomeComplete (ููุทูุงุจ ููุท):**
```dart
ุชุจููุจ "ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ":
  - ุชุญููู ูู announcements (isActive = true)
  - ููุชุฑุฉ: expiresAt + targetRole (all ุฃู student)

ุชุจููุจ "ุณุฌู ุงูุบูุงุจุงุช":
  - ุชุญููู ูู notifications_absences
  - ููุชุฑุฉ: archiveUntil + studentUid
```

---

## ๐ **Indexes ุงููุทููุจุฉ:**

### **ููุท ูุงุญุฏ:**
```
notifications_absences:
  - studentUid (Ascending)
  - archiveUntil (Descending)
```

### **ูุง ุญุงุฌุฉ ูู:**
```
โ announcements indexes (ูุณุชุฎุฏู isActive ููุท)
```

---

## ๐ฑ **ูุงุฌูุฉ ุงููุณุชุฎุฏู:**

### **ููุทูุงุจ:**
```
ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช:
  โโ ุชุจููุจ "ุงููุงุฌุจุงุช ุงูุณุงุจูุฉ"
  โโ ุชุจููุจ "ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ" โ
  โ  โโ ุฅุดุนุงุฑุงุช ูู announcements
  โโ ุชุจููุจ "ุณุฌู ุงูุบูุงุจุงุช" โ
     โโ ุฅุดุนุงุฑุงุช ูู notifications_absences

ุฒุฑ ุงูุฅุดุนุงุฑุงุช (ุฃุนูู):
  โโ InboxScreen โ
     โโ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ
     โโ ุฅุดุนุงุฑุงุช ูุจุงุดุฑุฉ
     โโ ุฅุดุนุงุฑุงุช ุงูุบูุงุจ
```

### **ูููุนูููู:**
```
ุฒุฑ ุงูุฅุดุนุงุฑุงุช (ุฃุนูู):
  โโ InboxScreen โ
     โโ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ
     โโ ุฅุดุนุงุฑุงุช ูุจุงุดุฑุฉ
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **1. ููุทูุงุจ:**
```
1. ุณุฌู ุฏุฎูู ูุทุงูุจ
2. ุงุถุบุท ุฒุฑ ุงูุฅุดุนุงุฑุงุช (ุฃุนูู)
3. ูุฌุจ ุฃู ุชุฑู:
   โ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ (all + student)
   โ ุฅุดุนุงุฑุงุช ุงูุบูุงุจ

4. ุงูุชุญ ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช (ุงูุฃููููุฉ ุงููุฑุฏูุฉ)
5. ุชุจููุจ "ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ":
   โ ุฅุดุนุงุฑุงุช ูู announcements
6. ุชุจููุจ "ุณุฌู ุงูุบูุงุจุงุช":
   โ ุฅุดุนุงุฑุงุช ูู notifications_absences
```

### **2. ูููุนูููู:**
```
1. ุณุฌู ุฏุฎูู ููุนูู
2. ุงุถุบุท ุฒุฑ ุงูุฅุดุนุงุฑุงุช (ุฃุนูู)
3. ูุฌุจ ุฃู ุชุฑู:
   โ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ (all + teacher)
   โ ูุง ุฅุดุนุงุฑุงุช ุบูุงุจ (ุฎุงุตุฉ ุจุงูุทูุงุจ)
```

---

## ๐ **ุฑุณุงุฆู Console:**

### **ุนูุฏ ูุชุญ InboxScreen:**
```
๐ ุชุญููู ุงูุฅุดุนุงุฑุงุช ูู UID: abc123...
๐ค ุฏูุฑ ุงููุณุชุฎุฏู: student (ุฃู teacher)

๐ข ุชุญููู ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ...
๐ข ุนุฏุฏ ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ ุงูููู: 2
   - ุฅุดุนุงุฑ: ุงุฎุชุจุงุฑ, ูุณุชูุฏู: all
   โ ุชูุช ุงูุฅุถุงูุฉ
   - ุฅุดุนุงุฑ: ููุทูุงุจ, ูุณุชูุฏู: student
   โ ุชูุช ุงูุฅุถุงูุฉ (ุฃู โ ุชู ุงูุชุฌุงูู)

โ๏ธ ุชุญููู ุฅุดุนุงุฑุงุช ุงูุบูุงุจ...
โ๏ธ ุนุฏุฏ ุฅุดุนุงุฑุงุช ุงูุบูุงุจ: 1
   - ุบูุงุจ: ุบุงุจ ุงูุทุงูุจ...
   โ ุชูุช ุงูุฅุถุงูุฉ

โ ุฅุฌูุงูู ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ: 3
```

---

## ๐ฏ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

### **ููุทูุงุจ:**
```
โ ูุฑูู ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ (all + student)
โ ูุฑูู ุฅุดุนุงุฑุงุช ุงูุบูุงุจ
โ ุงูุชุจููุจุงุช ุชุนูู ุจุดูู ุตุญูุญ
```

### **ูููุนูููู:**
```
โ ูุฑูู ุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑุฉ (all + teacher)
โ ูุง ูุฑูู ุฅุดุนุงุฑุงุช ุงูุบูุงุจ
โ InboxScreen ูุนูู ุจุดูู ุตุญูุญ
```

---

## ๐ง **ุฅุฐุง ูู ุชุธูุฑ ุงูุฅุดุนุงุฑุงุช:**

### **1. ุชุญูู ูู Console:**
```
- ูู ุธูุฑุช ุฑุณุงุฆู ุงูุชุดุฎูุตุ
- ูุง ูู ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉุ
- ูู ููุงู ุฃุฎุทุงุกุ
```

### **2. ุชุญูู ูู Firestore:**
```
- ูู ููุฌุฏ ุฅุดุนุงุฑุงุช ูู announcementsุ
- ูู isActive = trueุ
- ูู expiresAt ูู ุงููุณุชูุจูุ
- ูู targetRole ุตุญูุญุ
```

### **3. ุชุญูู ูู Index:**
```
- ููุท notifications_absences ูุญุชุงุฌ index
- announcements ูุง ูุญุชุงุฌ index
```

---

**ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู ูุงุฎุชุจุฑ ูุทุงูุจ ููุนูู! ๐**
